import{c as y,h as B,P as Ko,D as _e,n as Zo,E as Wo,F as St,G as Dn,H as Je,I as Rt,J as Vt,K as on,L as Ht,r as Q,a as Re,g as Ee,M as Go,N as an,w as le,o as Nt,d as Hn,O as Xo,Q as Qo,R as hn,S as Jo,b as Fe,T as Xn,U as ea,i as ta,V as et,W as na,X as Qr,Y as ra,Z as sr,$ as ur,m as oa,a0 as aa,l as je,a1 as la,a2 as Qn,e as xt,f as ia,j as sa,_ as Jr,q as Nn,a3 as ua,a4 as eo,s as cr,t as qt,x as ze,u as xe,B as ca,y as da}from"./index.50970b4c.js";import{i as to,j as fa,c as yt,Q as zn,b as at,k as no}from"./dom.b7c841ad.js";import{Q as ha,a as Ve,v as ro,b as va,g as ln}from"./QBtn.631ecf4b.js";import{b as ma,a as ga,h as pa,c as ba,g as ya}from"./scroll.ede53d6a.js";const Jn={name:String};function oo(e){return y(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function ao(e={}){return(t,n,o)=>{t[n](B("input",{class:"hidden"+(o||""),...e.value}))}}function wa(e){return y(()=>e.name||e.for)}const er={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Ca=Object.keys(er);er.all=!0;function dr(e){const t={};for(const n of Ca)e[n]===!0&&(t[n]=!0);return Object.keys(t).length===0?er:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}function fr(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&e.target.nodeName.toUpperCase()!=="INPUT"&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function lo(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Ko.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function En(e,t,n){const o=Vt(e);let r,a=o.left-t.event.x,l=o.top-t.event.y,i=Math.abs(a),s=Math.abs(l);const d=t.direction;d.horizontal===!0&&d.vertical!==!0?r=a<0?"left":"right":d.horizontal!==!0&&d.vertical===!0?r=l<0?"up":"down":d.up===!0&&l<0?(r="up",i>s&&(d.left===!0&&a<0?r="left":d.right===!0&&a>0&&(r="right"))):d.down===!0&&l>0?(r="down",i>s&&(d.left===!0&&a<0?r="left":d.right===!0&&a>0&&(r="right"))):d.left===!0&&a<0?(r="left",i<s&&(d.up===!0&&l<0?r="up":d.down===!0&&l>0&&(r="down"))):d.right===!0&&a>0&&(r="right",i<s&&(d.up===!0&&l<0?r="up":d.down===!0&&l>0&&(r="down")));let c=!1;if(r===void 0&&n===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};r=t.event.lastDir,c=!0,r==="left"||r==="right"?(o.left-=a,i=0,a=0):(o.top-=l,s=0,l=0)}return{synthetic:c,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:o,direction:r,isFirst:t.event.isFirst,isFinal:n===!0,duration:Date.now()-t.event.time,distance:{x:i,y:s},offset:{x:a,y:l},delta:{x:o.left-t.event.lastX,y:o.top-t.event.lastY}}}}let xa=0;var ka=to({name:"touch-pan",beforeMount(e,{value:t,modifiers:n}){if(n.mouse!==!0&&_e.has.touch!==!0)return;function o(a,l){n.mouse===!0&&l===!0?Ht(a):(n.stop===!0&&Rt(a),n.prevent===!0&&Je(a))}const r={uid:"qvtp_"+xa++,handler:t,modifiers:n,direction:dr(n),noop:Zo,mouseStart(a){fr(a,r)&&Wo(a)&&(St(r,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),r.start(a,!0))},touchStart(a){if(fr(a,r)){const l=a.target;St(r,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","passiveCapture"],[l,"touchend","end","passiveCapture"]]),r.start(a)}},start(a,l){if(_e.is.firefox===!0&&Dn(e,!0),r.lastEvt=a,l===!0||n.stop===!0){if(r.direction.all!==!0&&(l!==!0||r.modifiers.mouseAllDir!==!0&&r.modifiers.mousealldir!==!0)){const d=a.type.indexOf("mouse")>-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&Je(d),a.cancelBubble===!0&&Rt(d),Object.assign(d,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[r.uid]:a.qClonedBy.concat(r.uid)}),r.initialEvent={target:a.target,event:d}}Rt(a)}const{left:i,top:s}=Vt(a);r.event={x:i,y:s,time:Date.now(),mouse:l===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:i,lastY:s}},move(a){if(r.event===void 0)return;const l=Vt(a),i=l.left-r.event.x,s=l.top-r.event.y;if(i===0&&s===0)return;r.lastEvt=a;const d=r.event.mouse===!0,c=()=>{o(a,d);let p;n.preserveCursor!==!0&&n.preservecursor!==!0&&(p=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),d===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),lo(),r.styleCleanup=E=>{if(r.styleCleanup=void 0,p!==void 0&&(document.documentElement.style.cursor=p),document.body.classList.remove("non-selectable"),d===!0){const I=()=>{document.body.classList.remove("no-pointer-events--children")};E!==void 0?setTimeout(()=>{I(),E()},50):I()}else E!==void 0&&E()}};if(r.event.detected===!0){r.event.isFirst!==!0&&o(a,r.event.mouse);const{payload:p,synthetic:E}=En(a,r,!1);p!==void 0&&(r.handler(p)===!1?r.end(a):(r.styleCleanup===void 0&&r.event.isFirst===!0&&c(),r.event.lastX=p.position.left,r.event.lastY=p.position.top,r.event.lastDir=E===!0?void 0:p.direction,r.event.isFirst=!1));return}if(r.direction.all===!0||d===!0&&(r.modifiers.mouseAllDir===!0||r.modifiers.mousealldir===!0)){c(),r.event.detected=!0,r.move(a);return}const f=Math.abs(i),M=Math.abs(s);f!==M&&(r.direction.horizontal===!0&&f>M||r.direction.vertical===!0&&f<M||r.direction.up===!0&&f<M&&s<0||r.direction.down===!0&&f<M&&s>0||r.direction.left===!0&&f>M&&i<0||r.direction.right===!0&&f>M&&i>0?(r.event.detected=!0,r.move(a)):r.end(a,!0))},end(a,l){if(r.event!==void 0){if(on(r,"temp"),_e.is.firefox===!0&&Dn(e,!1),l===!0)r.styleCleanup!==void 0&&r.styleCleanup(),r.event.detected!==!0&&r.initialEvent!==void 0&&r.initialEvent.target.dispatchEvent(r.initialEvent.event);else if(r.event.detected===!0){r.event.isFirst===!0&&r.handler(En(a===void 0?r.lastEvt:a,r).payload);const{payload:i}=En(a===void 0?r.lastEvt:a,r,!0),s=()=>{r.handler(i)};r.styleCleanup!==void 0?r.styleCleanup(s):s()}r.event=void 0,r.initialEvent=void 0,r.lastEvt=void 0}}};if(e.__qtouchpan=r,n.mouse===!0){const a=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";St(r,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}_e.has.touch===!0&&St(r,"main",[[e,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchpan;n!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&n.end(),n.handler=t.value),n.direction=dr(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),on(t,"main"),on(t,"temp"),_e.is.firefox===!0&&Dn(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}});const vn={dark:{type:Boolean,default:null}};function mn(e,t){return y(()=>e.dark===null?t.dark.isActive:e.dark)}function Dt(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}function fe(e,t=2,n="0"){if(e==null)return e;const o=""+e;return o.length>=t?o:new Array(t-o.length+1).join(n)+o}const hr="q-slider__marker-labels",Ma=e=>({value:e}),Sa=({marker:e})=>B("div",{key:e.value,style:e.style,class:e.classes},e.label),io=[34,37,40,33,39,38],Da={...vn,...Jn,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Ea=["pan","update:modelValue","change"];function Ta({updateValue:e,updatePosition:t,getDragging:n,formAttrs:o}){const{props:r,emit:a,slots:l,proxy:{$q:i}}=Ee(),s=mn(r,i),d=ao(o),c=Q(!1),f=Q(!1),M=Q(!1),p=Q(!1),E=y(()=>r.vertical===!0?"--v":"--h"),I=y(()=>"-"+(r.switchLabelSide===!0?"switched":"standard")),$=y(()=>r.vertical===!0?r.reverse===!0:r.reverse!==(i.lang.rtl===!0)),D=y(()=>isNaN(r.innerMin)===!0||r.innerMin<r.min?r.min:r.innerMin),w=y(()=>isNaN(r.innerMax)===!0||r.innerMax>r.max?r.max:r.innerMax),_=y(()=>r.disable!==!0&&r.readonly!==!0&&D.value<w.value),g=y(()=>(String(r.step).trim().split(".")[1]||"").length),T=y(()=>r.step===0?1:r.step),m=y(()=>_.value===!0?r.tabindex||0:-1),b=y(()=>r.max-r.min),C=y(()=>w.value-D.value),A=y(()=>V(D.value)),P=y(()=>V(w.value)),h=y(()=>r.vertical===!0?$.value===!0?"bottom":"top":$.value===!0?"right":"left"),z=y(()=>r.vertical===!0?"height":"width"),S=y(()=>r.vertical===!0?"width":"height"),H=y(()=>r.vertical===!0?"vertical":"horizontal"),F=y(()=>{const q={role:"slider","aria-valuemin":D.value,"aria-valuemax":w.value,"aria-orientation":H.value,"data-step":r.step};return r.disable===!0?q["aria-disabled"]="true":r.readonly===!0&&(q["aria-readonly"]="true"),q}),ne=y(()=>`q-slider q-slider${E.value} q-slider--${c.value===!0?"":"in"}active inline no-wrap `+(r.vertical===!0?"row":"column")+(r.disable===!0?" disabled":" q-slider--enabled"+(_.value===!0?" q-slider--editable":""))+(M.value==="both"?" q-slider--focus":"")+(r.label||r.labelAlways===!0?" q-slider--label":"")+(r.labelAlways===!0?" q-slider--label-always":"")+(s.value===!0?" q-slider--dark":"")+(r.dense===!0?" q-slider--dense q-slider--dense"+E.value:""));function x(q){const re="q-slider__"+q;return`${re} ${re}${E.value} ${re}${E.value}${I.value}`}function R(q){const re="q-slider__"+q;return`${re} ${re}${E.value}`}const te=y(()=>{const q=r.selectionColor||r.color;return"q-slider__selection absolute"+(q!==void 0?` text-${q}`:"")}),K=y(()=>R("markers")+" absolute overflow-hidden"),L=y(()=>R("track-container")),ae=y(()=>x("pin")),G=y(()=>x("label")),De=y(()=>x("text-container")),Z=y(()=>x("marker-labels-container")+(r.markerLabelsClass!==void 0?` ${r.markerLabelsClass}`:"")),ie=y(()=>"q-slider__track relative-position no-outline"+(r.trackColor!==void 0?` bg-${r.trackColor}`:"")),Me=y(()=>{const q={[S.value]:r.trackSize};return r.trackImg!==void 0&&(q.backgroundImage=`url(${r.trackImg}) !important`),q}),Oe=y(()=>"q-slider__inner absolute"+(r.innerTrackColor!==void 0?` bg-${r.innerTrackColor}`:"")),Y=y(()=>{const q={[h.value]:`${100*A.value}%`,[z.value]:`${100*(P.value-A.value)}%`};return r.innerTrackImg!==void 0&&(q.backgroundImage=`url(${r.innerTrackImg}) !important`),q});function Ke(q){const{min:re,max:de,step:ve}=r;let pe=re+q*(de-re);if(ve>0){const Ae=(pe-re)%ve;pe+=(Math.abs(Ae)>=ve/2?(Ae<0?-1:1)*ve:0)-Ae}return g.value>0&&(pe=parseFloat(pe.toFixed(g.value))),Dt(pe,D.value,w.value)}function V(q){return b.value===0?0:(q-r.min)/b.value}function j(q,re){const de=Vt(q),ve=r.vertical===!0?Dt((de.top-re.top)/re.height,0,1):Dt((de.left-re.left)/re.width,0,1);return Dt($.value===!0?1-ve:ve,A.value,P.value)}const W=y(()=>Go(r.markers)===!0?r.markers:T.value),X=y(()=>{const q=[],re=W.value,de=r.max;let ve=r.min;do q.push(ve),ve+=re;while(ve<de);return q.push(de),q}),ge=y(()=>{const q=` ${hr}${E.value}-`;return hr+`${q}${r.switchMarkerLabelsSide===!0?"switched":"standard"}${q}${$.value===!0?"rtl":"ltr"}`}),oe=y(()=>r.markerLabels===!1?null:we(r.markerLabels).map((q,re)=>({index:re,value:q.value,label:q.label||q.value,classes:ge.value+(q.classes!==void 0?" "+q.classes:""),style:{...Ze(q.value),...q.style||{}}}))),J=y(()=>({markerList:oe.value,markerMap:He.value,classes:ge.value,getStyle:Ze})),Te=y(()=>{if(C.value!==0){const q=100*W.value/C.value;return{...Y.value,backgroundSize:r.vertical===!0?`2px ${q}%`:`${q}% 2px`}}return null});function we(q){if(q===!1)return null;if(q===!0)return X.value.map(Ma);if(typeof q=="function")return X.value.map(de=>{const ve=q(de);return an(ve)===!0?{...ve,value:de}:{value:de,label:ve}});const re=({value:de})=>de>=r.min&&de<=r.max;return Array.isArray(q)===!0?q.map(de=>an(de)===!0?de:{value:de}).filter(re):Object.keys(q).map(de=>{const ve=q[de],pe=Number(de);return an(ve)===!0?{...ve,value:pe}:{value:pe,label:ve}}).filter(re)}function Ze(q){return{[h.value]:`${100*(q-r.min)/b.value}%`}}const He=y(()=>{if(r.markerLabels===!1)return null;const q={};return oe.value.forEach(re=>{q[re.value]=re}),q});function st(){if(l["marker-label-group"]!==void 0)return l["marker-label-group"](J.value);const q=l["marker-label"]||Sa;return oe.value.map(re=>q({marker:re,...J.value}))}const ut=y(()=>[[ka,Cn,void 0,{[H.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Cn(q){q.isFinal===!0?(p.value!==void 0&&(t(q.evt),q.touch===!0&&e(!0),p.value=void 0,a("pan","end")),c.value=!1,M.value=!1):q.isFirst===!0?(p.value=n(q.evt),t(q.evt),e(),c.value=!0,a("pan","start")):(t(q.evt),e())}function zt(){M.value=!1}function _t(q){t(q,n(q)),e(),f.value=!0,c.value=!0,document.addEventListener("mouseup",Bt,!0)}function Bt(){f.value=!1,c.value=!1,e(!0),zt(),document.removeEventListener("mouseup",Bt,!0)}function jt(q){t(q,n(q)),e(!0)}function Pt(q){io.includes(q.keyCode)&&e(!0)}function Yt(q){if(r.vertical===!0)return null;const re=i.lang.rtl!==r.reverse?1-q:q;return{transform:`translateX(calc(${2*re-1} * ${r.thumbSize} / 2 + ${50-100*re}%))`}}function Ut(q){const re=y(()=>f.value===!1&&(M.value===q.focusValue||M.value==="both")?" q-slider--focus":""),de=y(()=>`q-slider__thumb q-slider__thumb${E.value} q-slider__thumb${E.value}-${$.value===!0?"rtl":"ltr"} absolute non-selectable`+re.value+(q.thumbColor.value!==void 0?` text-${q.thumbColor.value}`:"")),ve=y(()=>({width:r.thumbSize,height:r.thumbSize,[h.value]:`${100*q.ratio.value}%`,zIndex:M.value===q.focusValue?2:void 0})),pe=y(()=>q.labelColor.value!==void 0?` text-${q.labelColor.value}`:""),Ae=y(()=>Yt(q.ratio.value)),wt=y(()=>"q-slider__text"+(q.labelTextColor.value!==void 0?` text-${q.labelTextColor.value}`:""));return()=>{const tt=[B("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[B("path",{d:r.thumbPath})]),B("div",{class:"q-slider__focus-ring fit"})];return(r.label===!0||r.labelAlways===!0)&&(tt.push(B("div",{class:ae.value+" absolute fit no-pointer-events"+pe.value},[B("div",{class:G.value,style:{minWidth:r.thumbSize}},[B("div",{class:De.value,style:Ae.value},[B("span",{class:wt.value},q.label.value)])])])),r.name!==void 0&&r.disable!==!0&&d(tt,"push")),B("div",{class:de.value,style:ve.value,...q.getNodeData()},tt)}}function Kt(q,re,de,ve){const pe=[];r.innerTrackColor!=="transparent"&&pe.push(B("div",{key:"inner",class:Oe.value,style:Y.value})),r.selectionColor!=="transparent"&&pe.push(B("div",{key:"selection",class:te.value,style:q.value})),r.markers!==!1&&pe.push(B("div",{key:"marker",class:K.value,style:Te.value})),ve(pe);const Ae=[fa("div",{key:"trackC",class:L.value,tabindex:re.value,...de.value},[B("div",{class:ie.value,style:Me.value},pe)],"slide",_.value,()=>ut.value)];if(r.markerLabels!==!1){const wt=r.switchMarkerLabelsSide===!0?"unshift":"push";Ae[wt](B("div",{key:"markerL",class:Z.value},st()))}return Ae}return Re(()=>{document.removeEventListener("mouseup",Bt,!0)}),{state:{active:c,focus:M,preventFocus:f,dragging:p,editable:_,classes:ne,tabindex:m,attributes:F,step:T,decimals:g,trackLen:b,innerMin:D,innerMinRatio:A,innerMax:w,innerMaxRatio:P,positionProp:h,sizeProp:z,isReversed:$},methods:{onActivate:_t,onMobileClick:jt,onBlur:zt,onKeyup:Pt,getContent:Kt,getThumbRenderFn:Ut,convertRatioToModel:Ke,convertModelToRatio:V,getDraggingRatio:j}}}const Aa=()=>({});var _a=yt({name:"QSlider",props:{...Da,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:Ea,setup(e,{emit:t}){const{proxy:{$q:n}}=Ee(),{state:o,methods:r}=Ta({updateValue:E,updatePosition:$,getDragging:I,formAttrs:oo(e)}),a=Q(null),l=Q(0),i=Q(0);function s(){i.value=e.modelValue===null?o.innerMin.value:Dt(e.modelValue,o.innerMin.value,o.innerMax.value)}le(()=>`${e.modelValue}|${o.innerMin.value}|${o.innerMax.value}`,s),s();const d=y(()=>r.convertModelToRatio(i.value)),c=y(()=>o.active.value===!0?l.value:d.value),f=y(()=>{const _={[o.positionProp.value]:`${100*o.innerMinRatio.value}%`,[o.sizeProp.value]:`${100*(c.value-o.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(_.backgroundImage=`url(${e.selectionImg}) !important`),_}),M=r.getThumbRenderFn({focusValue:!0,getNodeData:Aa,ratio:c,label:y(()=>e.labelValue!==void 0?e.labelValue:i.value),thumbColor:y(()=>e.thumbColor||e.color),labelColor:y(()=>e.labelColor),labelTextColor:y(()=>e.labelTextColor)}),p=y(()=>o.editable.value!==!0?{}:n.platform.is.mobile===!0?{onClick:r.onMobileClick}:{onMousedown:r.onActivate,onFocus:D,onBlur:r.onBlur,onKeydown:w,onKeyup:r.onKeyup});function E(_){i.value!==e.modelValue&&t("update:modelValue",i.value),_===!0&&t("change",i.value)}function I(){return a.value.getBoundingClientRect()}function $(_,g=o.dragging.value){const T=r.getDraggingRatio(_,g);i.value=r.convertRatioToModel(T),l.value=e.snap!==!0||e.step===0?T:r.convertModelToRatio(i.value)}function D(){o.focus.value=!0}function w(_){if(!io.includes(_.keyCode))return;Ht(_);const g=([34,33].includes(_.keyCode)?10:1)*o.step.value,T=([34,37,40].includes(_.keyCode)?-1:1)*(o.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*g;i.value=Dt(parseFloat((i.value+T).toFixed(o.decimals.value)),o.innerMin.value,o.innerMax.value),E()}return()=>{const _=r.getContent(f,o.tabindex,p,g=>{g.push(M())});return B("div",{ref:a,class:o.classes.value+(e.modelValue===null?" q-slider--no-value":""),...o.attributes.value,"aria-valuenow":e.modelValue},_)}}});function Ba({validate:e,resetValidation:t,requiresQForm:n}){const o=Hn(Xo,!1);if(o!==!1){const{props:r,proxy:a}=Ee();Object.assign(a,{validate:e,resetValidation:t}),le(()=>r.disable,l=>{l===!0?(typeof t=="function"&&t(),o.unbindComponent(a)):o.bindComponent(a)}),Nt(()=>{r.disable!==!0&&o.bindComponent(a)}),Re(()=>{r.disable!==!0&&o.unbindComponent(a)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const vr=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,mr=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,gr=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Zt=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Wt=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Tn={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>vr.test(e),hexaColor:e=>mr.test(e),hexOrHexaColor:e=>gr.test(e),rgbColor:e=>Zt.test(e),rgbaColor:e=>Wt.test(e),rgbOrRgbaColor:e=>Zt.test(e)||Wt.test(e),hexOrRgbColor:e=>vr.test(e)||Zt.test(e),hexaOrRgbaColor:e=>mr.test(e)||Wt.test(e),anyColor:e=>gr.test(e)||Zt.test(e)||Wt.test(e)},Pa=[!0,!1,"ondemand"],qa={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>Pa.includes(e)}};function Fa(e,t){const{props:n,proxy:o}=Ee(),r=Q(!1),a=Q(null),l=Q(null);Ba({validate:E,resetValidation:p});let i=0,s;const d=y(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length>0),c=y(()=>n.disable!==!0&&d.value===!0),f=y(()=>n.error===!0||r.value===!0),M=y(()=>typeof n.errorMessage=="string"&&n.errorMessage.length>0?n.errorMessage:a.value);le(()=>n.modelValue,()=>{I()}),le(()=>n.reactiveRules,D=>{D===!0?s===void 0&&(s=le(()=>n.rules,()=>{I(!0)})):s!==void 0&&(s(),s=void 0)},{immediate:!0}),le(e,D=>{D===!0?l.value===null&&(l.value=!1):l.value===!1&&(l.value=!0,c.value===!0&&n.lazyRules!=="ondemand"&&t.value===!1&&$())});function p(){i++,t.value=!1,l.value=null,r.value=!1,a.value=null,$.cancel()}function E(D=n.modelValue){if(c.value!==!0)return!0;const w=++i,_=t.value!==!0?()=>{l.value=!0}:()=>{},g=(m,b)=>{m===!0&&_(),r.value=m,a.value=b||null,t.value=!1},T=[];for(let m=0;m<n.rules.length;m++){const b=n.rules[m];let C;if(typeof b=="function"?C=b(D,Tn):typeof b=="string"&&Tn[b]!==void 0&&(C=Tn[b](D)),C===!1||typeof C=="string")return g(!0,C),!1;C!==!0&&C!==void 0&&T.push(C)}return T.length===0?(g(!1),!0):(t.value=!0,Promise.all(T).then(m=>{if(m===void 0||Array.isArray(m)===!1||m.length===0)return w===i&&g(!1),!0;const b=m.find(C=>C===!1||typeof C=="string");return w===i&&g(b!==void 0,b),b===void 0},m=>(w===i&&(console.error(m),g(!0)),!1)))}function I(D){c.value===!0&&n.lazyRules!=="ondemand"&&(l.value===!0||n.lazyRules!==!0&&D!==!0)&&$()}const $=Qo(E,0);return Re(()=>{s!==void 0&&s(),$.cancel()}),Object.assign(o,{resetValidation:p,validate:E}),hn(o,"hasError",()=>f.value),{isDirtyModel:l,hasRules:d,hasError:f,errorMessage:M,validate:E,resetValidation:p}}const pr=/^on[A-Z]/;function La(e,t){const n={listeners:Q({}),attributes:Q({})};function o(){const r={},a={};for(const l in e)l!=="class"&&l!=="style"&&pr.test(l)===!1&&(r[l]=e[l]);for(const l in t.props)pr.test(l)===!0&&(a[l]=t.props[l]);n.attributes.value=r,n.listeners.value=a}return Jo(o),o(),n}let An,Gt=0;const Se=new Array(256);for(let e=0;e<256;e++)Se[e]=(e+256).toString(16).substring(1);const Ia=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let o=t;o>0;o--)n.push(Math.floor(Math.random()*256));return n}})(),br=4096;function $a(){(An===void 0||Gt+16>br)&&(Gt=0,An=Ia(br));const e=Array.prototype.slice.call(An,Gt,Gt+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Se[e[0]]+Se[e[1]]+Se[e[2]]+Se[e[3]]+"-"+Se[e[4]]+Se[e[5]]+"-"+Se[e[6]]+Se[e[7]]+"-"+Se[e[8]]+Se[e[9]]+"-"+Se[e[10]]+Se[e[11]]+Se[e[12]]+Se[e[13]]+Se[e[14]]+Se[e[15]]}let ft=[],Ot=[];function so(e){Ot=Ot.filter(t=>t!==e)}function Ra(e){so(e),Ot.push(e)}function yr(e){so(e),Ot.length===0&&ft.length>0&&(ft[ft.length-1](),ft=[])}function gn(e){Ot.length===0?e():ft.push(e)}function Va(e){ft=ft.filter(t=>t!==e)}function jn(e){return e===void 0?`f_${$a()}`:e}function Yn(e){return e!=null&&(""+e).length>0}const Oa={...vn,...qa,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},Ha=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function Na(){const{props:e,attrs:t,proxy:n,vnode:o}=Ee();return{isDark:mn(e,n.$q),editable:y(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:Q(!1),focused:Q(!1),hasPopupOpen:!1,splitAttrs:La(t,o),targetUid:Q(jn(e.for)),rootRef:Q(null),targetRef:Q(null),controlRef:Q(null)}}function za(e){const{props:t,emit:n,slots:o,attrs:r,proxy:a}=Ee(),{$q:l}=a;let i=null;e.hasValue===void 0&&(e.hasValue=y(()=>Yn(t.modelValue))),e.emitValue===void 0&&(e.emitValue=x=>{n("update:modelValue",x)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:A,onFocusout:P}),Object.assign(e,{clearValue:h,onControlFocusin:A,onControlFocusout:P,focus:b}),e.computedCounter===void 0&&(e.computedCounter=y(()=>{if(t.counter!==!1){const x=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,R=t.maxlength!==void 0?t.maxlength:t.maxValues;return x+(R!==void 0?" / "+R:"")}}));const{isDirtyModel:s,hasRules:d,hasError:c,errorMessage:f,resetValidation:M}=Fa(e.focused,e.innerLoading),p=e.floatingLabel!==void 0?y(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):y(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),E=y(()=>t.bottomSlots===!0||t.hint!==void 0||d.value===!0||t.counter===!0||t.error!==null),I=y(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),$=y(()=>`q-field row no-wrap items-start q-field--${I.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(p.value===!0?" q-field--float":"")+(w.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(c.value===!0?" q-field--error":"")+(c.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&E.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),D=y(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(c.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length>0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),w=y(()=>t.labelSlot===!0||t.label!==void 0),_=y(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&c.value!==!0?` text-${t.labelColor}`:"")),g=y(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:p.value,modelValue:t.modelValue,emitValue:e.emitValue})),T=y(()=>{const x={for:e.targetUid.value};return t.disable===!0?x["aria-disabled"]="true":t.readonly===!0&&(x["aria-readonly"]="true"),x});le(()=>t.for,x=>{e.targetUid.value=jn(x)});function m(){const x=document.activeElement;let R=e.targetRef!==void 0&&e.targetRef.value;R&&(x===null||x.id!==e.targetUid.value)&&(R.hasAttribute("tabindex")===!0||(R=R.querySelector("[tabindex]")),R&&R!==x&&R.focus({preventScroll:!0}))}function b(){gn(m)}function C(){Va(m);const x=document.activeElement;x!==null&&e.rootRef.value.contains(x)&&x.blur()}function A(x){i!==null&&(clearTimeout(i),i=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",x))}function P(x,R){i!==null&&clearTimeout(i),i=setTimeout(()=>{i=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",x)),R!==void 0&&R())})}function h(x){Ht(x),l.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),Fe(()=>{M(),l.platform.is.mobile!==!0&&(s.value=!1)})}function z(){const x=[];return o.prepend!==void 0&&x.push(B("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Je},o.prepend())),x.push(B("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},S())),c.value===!0&&t.noErrorIcon===!1&&x.push(F("error",[B(zn,{name:l.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?x.push(F("inner-loading-append",o.loading!==void 0?o.loading():[B(ha,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&x.push(F("inner-clearable-append",[B(zn,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||l.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:h})])),o.append!==void 0&&x.push(B("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Je},o.append())),e.getInnerAppend!==void 0&&x.push(F("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&x.push(e.getControlChild()),x}function S(){const x=[];return t.prefix!==void 0&&t.prefix!==null&&x.push(B("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&x.push(e.getShadowControl()),e.getControl!==void 0?x.push(e.getControl()):o.rawControl!==void 0?x.push(o.rawControl()):o.control!==void 0&&x.push(B("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},o.control(g.value))),w.value===!0&&x.push(B("div",{class:_.value},at(o.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&x.push(B("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),x.concat(at(o.default))}function H(){let x,R;c.value===!0?f.value!==null?(x=[B("div",{role:"alert"},f.value)],R=`q--slot-error-${f.value}`):(x=at(o.error),R="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(x=[B("div",t.hint)],R=`q--slot-hint-${t.hint}`):(x=at(o.hint),R="q--slot-hint"));const te=t.counter===!0||o.counter!==void 0;if(t.hideBottomSpace===!0&&te===!1&&x===void 0)return;const K=B("div",{key:R,class:"q-field__messages col"},x);return B("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:Je},[t.hideBottomSpace===!0?K:B(et,{name:"q-transition--field-message"},()=>K),te===!0?B("div",{class:"q-field__counter"},o.counter!==void 0?o.counter():e.computedCounter.value):null])}function F(x,R){return R===null?null:B("div",{key:x,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},R)}let ne=!1;return Xn(()=>{ne=!0}),ea(()=>{ne===!0&&t.autofocus===!0&&a.focus()}),Nt(()=>{ta.value===!0&&t.for===void 0&&(e.targetUid.value=jn()),t.autofocus===!0&&a.focus()}),Re(()=>{i!==null&&clearTimeout(i)}),Object.assign(a,{focus:b,blur:C}),function(){const R=e.getControl===void 0&&o.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...T.value}:T.value;return B("label",{ref:e.rootRef,class:[$.value,r.class],style:r.style,...R},[o.before!==void 0?B("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Je},o.before()):null,B("div",{class:"q-field__inner relative-position col self-stretch"},[B("div",{ref:e.controlRef,class:D.value,tabindex:-1,...e.controlEvents},z()),E.value===!0?H():null]),o.after!==void 0?B("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Je},o.after()):null])}}const wr={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},un={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},uo=Object.keys(un);uo.forEach(e=>{un[e].regex=new RegExp(un[e].pattern)});const ja=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+uo.join("")+"])|(.)","g"),Cr=/[.*+?^${}()|[\]\\]/g,Ce=String.fromCharCode(1),Ya={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Ua(e,t,n,o){let r,a,l,i;const s=Q(null),d=Q(f());function c(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}le(()=>e.type+e.autogrow,p),le(()=>e.mask,m=>{if(m!==void 0)E(d.value,!0);else{const b=g(d.value);p(),e.modelValue!==b&&t("update:modelValue",b)}}),le(()=>e.fillMask+e.reverseFillMask,()=>{s.value===!0&&E(d.value,!0)}),le(()=>e.unmaskedValue,()=>{s.value===!0&&E(d.value)});function f(){if(p(),s.value===!0){const m=w(g(e.modelValue));return e.fillMask!==!1?T(m):m}return e.modelValue}function M(m){if(m<r.length)return r.slice(-m);let b="",C=r;const A=C.indexOf(Ce);if(A>-1){for(let P=m-C.length;P>0;P--)b+=Ce;C=C.slice(0,A)+b+C.slice(A)}return C}function p(){if(s.value=e.mask!==void 0&&e.mask.length>0&&c(),s.value===!1){i=void 0,r="",a="";return}const m=wr[e.mask]===void 0?e.mask:wr[e.mask],b=typeof e.fillMask=="string"&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",C=b.replace(Cr,"\\$&"),A=[],P=[],h=[];let z=e.reverseFillMask===!0,S="",H="";m.replace(ja,(R,te,K,L,ae)=>{if(L!==void 0){const G=un[L];h.push(G),H=G.negate,z===!0&&(P.push("(?:"+H+"+)?("+G.pattern+"+)?(?:"+H+"+)?("+G.pattern+"+)?"),z=!1),P.push("(?:"+H+"+)?("+G.pattern+")?")}else if(K!==void 0)S="\\"+(K==="\\"?"":K),h.push(K),A.push("([^"+S+"]+)?"+S+"?");else{const G=te!==void 0?te:ae;S=G==="\\"?"\\\\\\\\":G.replace(Cr,"\\\\$&"),h.push(G),A.push("([^"+S+"]+)?"+S+"?")}});const F=new RegExp("^"+A.join("")+"("+(S===""?".":"[^"+S+"]")+"+)?"+(S===""?"":"["+S+"]*")+"$"),ne=P.length-1,x=P.map((R,te)=>te===0&&e.reverseFillMask===!0?new RegExp("^"+C+"*"+R):te===ne?new RegExp("^"+R+"("+(H===""?".":H)+"+)?"+(e.reverseFillMask===!0?"$":C+"*")):new RegExp("^"+R));l=h,i=R=>{const te=F.exec(e.reverseFillMask===!0?R:R.slice(0,h.length+1));te!==null&&(R=te.slice(1).join(""));const K=[],L=x.length;for(let ae=0,G=R;ae<L;ae++){const De=x[ae].exec(G);if(De===null)break;G=G.slice(De.shift().length),K.push(...De)}return K.length>0?K.join(""):R},r=h.map(R=>typeof R=="string"?R:Ce).join(""),a=r.split(Ce).join(b)}function E(m,b,C){const A=o.value,P=A.selectionEnd,h=A.value.length-P,z=g(m);b===!0&&p();const S=w(z),H=e.fillMask!==!1?T(S):S,F=d.value!==H;A.value!==H&&(A.value=H),F===!0&&(d.value=H),document.activeElement===A&&Fe(()=>{if(H===a){const x=e.reverseFillMask===!0?a.length:0;A.setSelectionRange(x,x,"forward");return}if(C==="insertFromPaste"&&e.reverseFillMask!==!0){const x=P-1;$.right(A,x,x);return}if(["deleteContentBackward","deleteContentForward"].indexOf(C)>-1){const x=e.reverseFillMask===!0?P===0?H.length>S.length?1:0:Math.max(0,H.length-(H===a?0:Math.min(S.length,h)+1))+1:P;A.setSelectionRange(x,x,"forward");return}if(e.reverseFillMask===!0)if(F===!0){const x=Math.max(0,H.length-(H===a?0:Math.min(S.length,h+1)));x===1&&P===1?A.setSelectionRange(x,x,"forward"):$.rightReverse(A,x,x)}else{const x=H.length-h;A.setSelectionRange(x,x,"backward")}else if(F===!0){const x=Math.max(0,r.indexOf(Ce),Math.min(S.length,P)-1);$.right(A,x,x)}else{const x=P-1;$.right(A,x,x)}});const ne=e.unmaskedValue===!0?g(H):H;String(e.modelValue)!==ne&&n(ne,!0)}function I(m,b,C){const A=w(g(m.value));b=Math.max(0,r.indexOf(Ce),Math.min(A.length,b)),m.setSelectionRange(b,C,"forward")}const $={left(m,b,C,A){const P=r.slice(b-1).indexOf(Ce)===-1;let h=Math.max(0,b-1);for(;h>=0;h--)if(r[h]===Ce){b=h,P===!0&&b++;break}if(h<0&&r[b]!==void 0&&r[b]!==Ce)return $.right(m,0,0);b>=0&&m.setSelectionRange(b,A===!0?C:b,"backward")},right(m,b,C,A){const P=m.value.length;let h=Math.min(P,C+1);for(;h<=P;h++)if(r[h]===Ce){C=h;break}else r[h-1]===Ce&&(C=h);if(h>P&&r[C-1]!==void 0&&r[C-1]!==Ce)return $.left(m,P,P);m.setSelectionRange(A?b:C,C,"forward")},leftReverse(m,b,C,A){const P=M(m.value.length);let h=Math.max(0,b-1);for(;h>=0;h--)if(P[h-1]===Ce){b=h;break}else if(P[h]===Ce&&(b=h,h===0))break;if(h<0&&P[b]!==void 0&&P[b]!==Ce)return $.rightReverse(m,0,0);b>=0&&m.setSelectionRange(b,A===!0?C:b,"backward")},rightReverse(m,b,C,A){const P=m.value.length,h=M(P),z=h.slice(0,C+1).indexOf(Ce)===-1;let S=Math.min(P,C+1);for(;S<=P;S++)if(h[S-1]===Ce){C=S,C>0&&z===!0&&C--;break}if(S>P&&h[C-1]!==void 0&&h[C-1]!==Ce)return $.leftReverse(m,P,P);m.setSelectionRange(A===!0?b:C,C,"forward")}};function D(m){if(t("keydown",m),na(m)===!0)return;const b=o.value,C=b.selectionStart,A=b.selectionEnd;if(m.keyCode===37||m.keyCode===39){const P=$[(m.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];m.preventDefault(),P(b,C,A,m.shiftKey)}else m.keyCode===8&&e.reverseFillMask!==!0&&C===A?$.left(b,C,A,!0):m.keyCode===46&&e.reverseFillMask===!0&&C===A&&$.rightReverse(b,C,A,!0)}function w(m){if(m==null||m==="")return"";if(e.reverseFillMask===!0)return _(m);const b=l;let C=0,A="";for(let P=0;P<b.length;P++){const h=m[C],z=b[P];if(typeof z=="string")A+=z,h===z&&C++;else if(h!==void 0&&z.regex.test(h))A+=z.transform!==void 0?z.transform(h):h,C++;else return A}return A}function _(m){const b=l,C=r.indexOf(Ce);let A=m.length-1,P="";for(let h=b.length-1;h>=0&&A>-1;h--){const z=b[h];let S=m[A];if(typeof z=="string")P=z+P,S===z&&A--;else if(S!==void 0&&z.regex.test(S))do P=(z.transform!==void 0?z.transform(S):S)+P,A--,S=m[A];while(C===h&&S!==void 0&&z.regex.test(S));else return P}return P}function g(m){return typeof m!="string"||i===void 0?typeof m=="number"?i(""+m):m:i(m)}function T(m){return a.length-m.length<=0?m:e.reverseFillMask===!0&&m.length>0?a.slice(0,-m.length)+m:m+a.slice(m.length)}return{innerValue:d,hasMask:s,moveCursorForPaste:I,updateMaskValue:E,onMaskedKeydown:D}}function Ka(e,t){function n(){const o=e.modelValue;try{const r="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(a=>{r.items.add(a)}),{files:r.files}}catch{return{files:void 0}}}return t===!0?y(()=>{if(e.type==="file")return n()}):y(n)}const Za=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Wa=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Ga=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Xa=/[a-z0-9_ -]$/i;function Qa(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(_e.is.firefox===!0?Xa.test(n.data)===!1:Za.test(n.data)===!0||Wa.test(n.data)===!0||Ga.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}var Ie=yt({name:"QInput",inheritAttrs:!1,props:{...Oa,...Ya,...Jn,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Ha,"paste","change","keydown","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:o}=Ee(),{$q:r}=o,a={};let l=NaN,i,s,d=null,c;const f=Q(null),M=wa(e),{innerValue:p,hasMask:E,moveCursorForPaste:I,updateMaskValue:$,onMaskedKeydown:D}=Ua(e,t,F,f),w=Ka(e,!0),_=y(()=>Yn(p.value)),g=Qa(S),T=Na(),m=y(()=>e.type==="textarea"||e.autogrow===!0),b=y(()=>m.value===!0||["text","search","url","tel","password"].includes(e.type)),C=y(()=>{const L={...T.splitAttrs.listeners.value,onInput:S,onPaste:z,onChange:x,onBlur:R,onFocus:Rt};return L.onCompositionstart=L.onCompositionupdate=L.onCompositionend=g,E.value===!0&&(L.onKeydown=D),e.autogrow===!0&&(L.onAnimationend=H),L}),A=y(()=>{const L={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:M.value,...T.splitAttrs.attributes.value,id:T.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return m.value===!1&&(L.type=e.type),e.autogrow===!0&&(L.rows=1),L});le(()=>e.type,()=>{f.value&&(f.value.value=e.modelValue)}),le(()=>e.modelValue,L=>{if(E.value===!0){if(s===!0&&(s=!1,String(L)===l))return;$(L)}else p.value!==L&&(p.value=L,e.type==="number"&&a.hasOwnProperty("value")===!0&&(i===!0?i=!1:delete a.value));e.autogrow===!0&&Fe(ne)}),le(()=>e.autogrow,L=>{L===!0?Fe(ne):f.value!==null&&n.rows>0&&(f.value.style.height="auto")}),le(()=>e.dense,()=>{e.autogrow===!0&&Fe(ne)});function P(){gn(()=>{const L=document.activeElement;f.value!==null&&f.value!==L&&(L===null||L.id!==T.targetUid.value)&&f.value.focus({preventScroll:!0})})}function h(){f.value!==null&&f.value.select()}function z(L){if(E.value===!0&&e.reverseFillMask!==!0){const ae=L.target;I(ae,ae.selectionStart,ae.selectionEnd)}t("paste",L)}function S(L){if(!L||!L.target)return;if(e.type==="file"){t("update:modelValue",L.target.files);return}const ae=L.target.value;if(L.target.qComposing===!0){a.value=ae;return}if(E.value===!0)$(ae,!1,L.inputType);else if(F(ae),b.value===!0&&L.target===document.activeElement){const{selectionStart:G,selectionEnd:De}=L.target;G!==void 0&&De!==void 0&&Fe(()=>{L.target===document.activeElement&&ae.indexOf(L.target.value)===0&&L.target.setSelectionRange(G,De)})}e.autogrow===!0&&ne()}function H(L){t("animationend",L),ne()}function F(L,ae){c=()=>{d=null,e.type!=="number"&&a.hasOwnProperty("value")===!0&&delete a.value,e.modelValue!==L&&l!==L&&(l=L,ae===!0&&(s=!0),t("update:modelValue",L),Fe(()=>{l===L&&(l=NaN)})),c=void 0},e.type==="number"&&(i=!0,a.value=L),e.debounce!==void 0?(d!==null&&clearTimeout(d),a.value=L,d=setTimeout(c,e.debounce)):c()}function ne(){requestAnimationFrame(()=>{const L=f.value;if(L!==null){const ae=L.parentNode.style,{overflow:G}=L.style;r.platform.is.firefox!==!0&&(L.style.overflow="hidden"),ae.marginBottom=L.scrollHeight-1+"px",L.style.height="1px",L.style.height=L.scrollHeight+"px",L.style.overflow=G,ae.marginBottom=""}})}function x(L){g(L),d!==null&&(clearTimeout(d),d=null),c!==void 0&&c(),t("change",L.target.value)}function R(L){L!==void 0&&Rt(L),d!==null&&(clearTimeout(d),d=null),c!==void 0&&c(),i=!1,s=!1,delete a.value,e.type!=="file"&&setTimeout(()=>{f.value!==null&&(f.value.value=p.value!==void 0?p.value:"")})}function te(){return a.hasOwnProperty("value")===!0?a.value:p.value!==void 0?p.value:""}Re(()=>{R()}),Nt(()=>{e.autogrow===!0&&ne()}),Object.assign(T,{innerValue:p,fieldClass:y(()=>`q-${m.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:y(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length>0),inputRef:f,emitValue:F,hasValue:_,floatingLabel:y(()=>_.value===!0||Yn(e.displayValue)),getControl:()=>B(m.value===!0?"textarea":"input",{ref:f,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...A.value,...C.value,...e.type!=="file"?{value:te()}:w.value}),getShadowControl:()=>B("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(m.value===!0?"":" text-no-wrap")},[B("span",{class:"invisible"},te()),B("span",e.shadowText)])});const K=za(T);return Object.assign(o,{focus:P,select:h,getNativeElement:()=>f.value}),hn(o,"nativeEl",()=>f.value),K}});function Ja(){const e=new Map;return{getCache:function(t,n){return e[t]===void 0?e[t]=n:e[t]},getCacheWithFn:function(t,n){return e[t]===void 0?e[t]=n():e[t]}}}const lt=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function el(e,t,n){return Object.prototype.toString.call(e)==="[object Date]"&&(n=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),ol(tr(e,t,n))}function xr(e,t,n){return fo(rl(e,t,n))}function tl(e){return nl(e)===0}function sn(e,t){return t<=6?31:t<=11||tl(e)?30:29}function nl(e){const t=lt.length;let n=lt[0],o,r,a,l,i;if(e<n||e>=lt[t-1])throw new Error("Invalid Jalaali year "+e);for(i=1;i<t&&(o=lt[i],r=o-n,!(e<o));i+=1)n=o;return l=e-n,r-l<6&&(l=l-r+me(r+4,33)*33),a=Le(Le(l+1,33)-1,4),a===-1&&(a=4),a}function co(e,t){const n=lt.length,o=e+621;let r=-14,a=lt[0],l,i,s,d,c;if(e<a||e>=lt[n-1])throw new Error("Invalid Jalaali year "+e);for(c=1;c<n&&(l=lt[c],i=l-a,!(e<l));c+=1)r=r+me(i,33)*8+me(Le(i,33),4),a=l;d=e-a,r=r+me(d,33)*8+me(Le(d,33)+3,4),Le(i,33)===4&&i-d===4&&(r+=1);const f=me(o,4)-me((me(o,100)+1)*3,4)-150,M=20+r-f;return t||(i-d<6&&(d=d-i+me(i+4,33)*33),s=Le(Le(d+1,33)-1,4),s===-1&&(s=4)),{leap:s,gy:o,march:M}}function rl(e,t,n){const o=co(e,!0);return tr(o.gy,3,o.march)+(t-1)*31-me(t,7)*(t-7)+n-1}function ol(e){const t=fo(e).gy;let n=t-621,o,r,a;const l=co(n,!1),i=tr(t,3,l.march);if(a=e-i,a>=0){if(a<=185)return r=1+me(a,31),o=Le(a,31)+1,{jy:n,jm:r,jd:o};a-=186}else n-=1,a+=179,l.leap===1&&(a+=1);return r=7+me(a,30),o=Le(a,30)+1,{jy:n,jm:r,jd:o}}function tr(e,t,n){let o=me((e+me(t-8,6)+100100)*1461,4)+me(153*Le(t+9,12)+2,5)+n-34840408;return o=o-me(me(e+100100+me(t-8,6),100)*3,4)+752,o}function fo(e){let t=4*e+139361631;t=t+me(me(4*e+183187720,146097)*3,4)*4-3908;const n=me(Le(t,1461),4)*5+308,o=me(Le(n,153),5)+1,r=Le(me(n,153),12)+1;return{gy:me(t,1461)-100100+me(8-r,6),gm:r,gd:o}}function me(e,t){return~~(e/t)}function Le(e,t){return e-~~(e/t)*t}const al=["gregorian","persian"],ll={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>al.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},il=["update:modelValue"];function nt(e){return e.year+"/"+fe(e.month)+"/"+fe(e.day)}function sl(e,t){const n=y(()=>e.disable!==!0&&e.readonly!==!0),o=y(()=>n.value===!0?0:-1),r=y(()=>{const i=[];return e.color!==void 0&&i.push(`bg-${e.color}`),e.textColor!==void 0&&i.push(`text-${e.textColor}`),i.join(" ")});function a(){return e.locale!==void 0?{...t.lang.date,...e.locale}:t.lang.date}function l(i){const s=new Date,d=i===!0?null:0;if(e.calendar==="persian"){const c=el(s);return{year:c.jy,month:c.jm,day:c.jd}}return{year:s.getFullYear(),month:s.getMonth()+1,day:s.getDate(),hour:d,minute:d,second:d,millisecond:d}}return{editable:n,tabindex:o,headerClass:r,getLocale:a,getCurrentDate:l}}const ho=864e5,ul=36e5,Un=6e4,vo="YYYY-MM-DDTHH:mm:ss.SSSZ",cl=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,dl=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,_n={};function fl(e,t){const n="("+t.days.join("|")+")",o=e+n;if(_n[o]!==void 0)return _n[o];const r="("+t.daysShort.join("|")+")",a="("+t.months.join("|")+")",l="("+t.monthsShort.join("|")+")",i={};let s=0;const d=e.replace(dl,f=>{switch(s++,f){case"YY":return i.YY=s,"(-?\\d{1,2})";case"YYYY":return i.YYYY=s,"(-?\\d{1,4})";case"M":return i.M=s,"(\\d{1,2})";case"MM":return i.M=s,"(\\d{2})";case"MMM":return i.MMM=s,l;case"MMMM":return i.MMMM=s,a;case"D":return i.D=s,"(\\d{1,2})";case"Do":return i.D=s++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return i.D=s,"(\\d{2})";case"H":return i.H=s,"(\\d{1,2})";case"HH":return i.H=s,"(\\d{2})";case"h":return i.h=s,"(\\d{1,2})";case"hh":return i.h=s,"(\\d{2})";case"m":return i.m=s,"(\\d{1,2})";case"mm":return i.m=s,"(\\d{2})";case"s":return i.s=s,"(\\d{1,2})";case"ss":return i.s=s,"(\\d{2})";case"S":return i.S=s,"(\\d{1})";case"SS":return i.S=s,"(\\d{2})";case"SSS":return i.S=s,"(\\d{3})";case"A":return i.A=s,"(AM|PM)";case"a":return i.a=s,"(am|pm)";case"aa":return i.aa=s,"(a\\.m\\.|p\\.m\\.)";case"ddd":return r;case"dddd":return n;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return i.Z=s,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return i.ZZ=s,"(Z|[+-]\\d{2}\\d{2})";case"X":return i.X=s,"(-?\\d+)";case"x":return i.x=s,"(-?\\d{4,})";default:return s--,f[0]==="["&&(f=f.substring(1,f.length-1)),f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),c={map:i,regex:new RegExp("^"+d)};return _n[o]=c,c}function mo(e,t){return e!==void 0?e:t!==void 0?t.date:ra.date}function kr(e,t=""){const n=e>0?"-":"+",o=Math.abs(e),r=Math.floor(o/60),a=o%60;return n+fe(r)+t+fe(a)}function hl(e,t,n,o,r){const a={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(r!==void 0&&Object.assign(a,r),e==null||e===""||typeof e!="string")return a;t===void 0&&(t=vo);const l=mo(n,Qr.props),i=l.months,s=l.monthsShort,{regex:d,map:c}=fl(t,l),f=e.match(d);if(f===null)return a;let M="";if(c.X!==void 0||c.x!==void 0){const p=parseInt(f[c.X!==void 0?c.X:c.x],10);if(isNaN(p)===!0||p<0)return a;const E=new Date(p*(c.X!==void 0?1e3:1));a.year=E.getFullYear(),a.month=E.getMonth()+1,a.day=E.getDate(),a.hour=E.getHours(),a.minute=E.getMinutes(),a.second=E.getSeconds(),a.millisecond=E.getMilliseconds()}else{if(c.YYYY!==void 0)a.year=parseInt(f[c.YYYY],10);else if(c.YY!==void 0){const p=parseInt(f[c.YY],10);a.year=p<0?p:2e3+p}if(c.M!==void 0){if(a.month=parseInt(f[c.M],10),a.month<1||a.month>12)return a}else c.MMM!==void 0?a.month=s.indexOf(f[c.MMM])+1:c.MMMM!==void 0&&(a.month=i.indexOf(f[c.MMMM])+1);if(c.D!==void 0){if(a.day=parseInt(f[c.D],10),a.year===null||a.month===null||a.day<1)return a;const p=o!=="persian"?new Date(a.year,a.month,0).getDate():sn(a.year,a.month);if(a.day>p)return a}c.H!==void 0?a.hour=parseInt(f[c.H],10)%24:c.h!==void 0&&(a.hour=parseInt(f[c.h],10)%12,(c.A&&f[c.A]==="PM"||c.a&&f[c.a]==="pm"||c.aa&&f[c.aa]==="p.m.")&&(a.hour+=12),a.hour=a.hour%24),c.m!==void 0&&(a.minute=parseInt(f[c.m],10)%60),c.s!==void 0&&(a.second=parseInt(f[c.s],10)%60),c.S!==void 0&&(a.millisecond=parseInt(f[c.S],10)*10**(3-f[c.S].length)),(c.Z!==void 0||c.ZZ!==void 0)&&(M=c.Z!==void 0?f[c.Z].replace(":",""):f[c.ZZ],a.timezoneOffset=(M[0]==="+"?-1:1)*(60*M.slice(1,3)+1*M.slice(3,5)))}return a.dateHash=fe(a.year,6)+"/"+fe(a.month)+"/"+fe(a.day),a.timeHash=fe(a.hour)+":"+fe(a.minute)+":"+fe(a.second)+M,a}function Mr(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const o=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-o);const r=(t-n)/(ho*7);return 1+Math.floor(r)}function Ge(e,t,n){const o=new Date(e),r=`set${n===!0?"UTC":""}`;switch(t){case"year":case"years":o[`${r}Month`](0);case"month":case"months":o[`${r}Date`](1);case"day":case"days":case"date":o[`${r}Hours`](0);case"hour":case"hours":o[`${r}Minutes`](0);case"minute":case"minutes":o[`${r}Seconds`](0);case"second":case"seconds":o[`${r}Milliseconds`](0)}return o}function Xt(e,t,n){return(e.getTime()-e.getTimezoneOffset()*Un-(t.getTime()-t.getTimezoneOffset()*Un))/n}function go(e,t,n="days"){const o=new Date(e),r=new Date(t);switch(n){case"years":case"year":return o.getFullYear()-r.getFullYear();case"months":case"month":return(o.getFullYear()-r.getFullYear())*12+o.getMonth()-r.getMonth();case"days":case"day":case"date":return Xt(Ge(o,"day"),Ge(r,"day"),ho);case"hours":case"hour":return Xt(Ge(o,"hour"),Ge(r,"hour"),ul);case"minutes":case"minute":return Xt(Ge(o,"minute"),Ge(r,"minute"),Un);case"seconds":case"second":return Xt(Ge(o,"second"),Ge(r,"second"),1e3)}}function Sr(e){return go(e,Ge(e,"year"),"days")+1}function Dr(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Er={YY(e,t,n){const o=this.YYYY(e,t,n)%100;return o>=0?fe(o):"-"+fe(Math.abs(o))},YYYY(e,t,n){return n!=null?n:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return fe(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Dr(this.Q(e))},D(e){return e.getDate()},Do(e){return Dr(e.getDate())},DD(e){return fe(e.getDate())},DDD(e){return Sr(e)},DDDD(e){return fe(Sr(e),3)},d(e){return e.getDay()},dd(e,t){return this.dddd(e,t).slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Mr(e)},ww(e){return fe(Mr(e))},H(e){return e.getHours()},HH(e){return fe(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return fe(this.h(e))},m(e){return e.getMinutes()},mm(e){return fe(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return fe(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return fe(Math.floor(e.getMilliseconds()/10))},SSS(e){return fe(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,t,n,o){const r=o==null?e.getTimezoneOffset():o;return kr(r,":")},ZZ(e,t,n,o){const r=o==null?e.getTimezoneOffset():o;return kr(r)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function vl(e,t,n,o,r){if(e!==0&&!e||e===1/0||e===-1/0)return;const a=new Date(e);if(isNaN(a))return;t===void 0&&(t=vo);const l=mo(n,Qr.props);return t.replace(cl,(i,s)=>i in Er?Er[i](a,l,o,r):s===void 0?i:s.split("\\]").join("]"))}const ct=20,ml=["Calendar","Years","Months"],Tr=e=>ml.includes(e),Bn=e=>/^-?[\d]+\/[0-1]\d$/.test(e),kt=" \u2014 ";function rt(e){return e.year+"/"+fe(e.month)}var gl=yt({name:"QDate",props:{...ll,...Jn,...vn,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Bn},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Bn},navigationMaxYearMonth:{type:String,validator:Bn},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:Tr}},emits:[...il,"rangeStart","rangeEnd","navigation"],setup(e,{slots:t,emit:n}){const{proxy:o}=Ee(),{$q:r}=o,a=mn(e,r),{getCache:l}=Ja(),{tabindex:i,headerClass:s,getLocale:d,getCurrentDate:c}=sl(e,r);let f;const M=oo(e),p=ao(M),E=Q(null),I=Q(jt()),$=Q(d()),D=y(()=>jt()),w=y(()=>d()),_=y(()=>c()),g=Q(Yt(I.value,$.value)),T=Q(e.defaultView),m=r.lang.rtl===!0?"right":"left",b=Q(m.value),C=Q(m.value),A=g.value.year,P=Q(A-A%ct-(A<0?ct:0)),h=Q(null),z=y(()=>{const u=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${u} q-date--${u}-${e.minimal===!0?"minimal":"standard"}`+(a.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),S=y(()=>e.color||"primary"),H=y(()=>e.textColor||"white"),F=y(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),ne=y(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),x=y(()=>ne.value.filter(u=>typeof u=="string").map(u=>Pt(u,I.value,$.value)).filter(u=>u.dateHash!==null&&u.day!==null&&u.month!==null&&u.year!==null)),R=y(()=>{const u=v=>Pt(v,I.value,$.value);return ne.value.filter(v=>an(v)===!0&&v.from!==void 0&&v.to!==void 0).map(v=>({from:u(v.from),to:u(v.to)})).filter(v=>v.from.dateHash!==null&&v.to.dateHash!==null&&v.from.dateHash<v.to.dateHash)}),te=y(()=>e.calendar!=="persian"?u=>new Date(u.year,u.month-1,u.day):u=>{const v=xr(u.year,u.month,u.day);return new Date(v.gy,v.gm-1,v.gd)}),K=y(()=>e.calendar==="persian"?nt:(u,v,k)=>vl(new Date(u.year,u.month-1,u.day,u.hour,u.minute,u.second,u.millisecond),v===void 0?I.value:v,k===void 0?$.value:k,u.year,u.timezoneOffset)),L=y(()=>x.value.length+R.value.reduce((u,v)=>u+1+go(te.value(v.to),te.value(v.from)),0)),ae=y(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length>0)return e.title;if(h.value!==null){const k=h.value.init,N=te.value(k);return $.value.daysShort[N.getDay()]+", "+$.value.monthsShort[k.month-1]+" "+k.day+kt+"?"}if(L.value===0)return kt;if(L.value>1)return`${L.value} ${$.value.pluralDay}`;const u=x.value[0],v=te.value(u);return isNaN(v.valueOf())===!0?kt:$.value.headerTitle!==void 0?$.value.headerTitle(v,u):$.value.daysShort[v.getDay()]+", "+$.value.monthsShort[u.month-1]+" "+u.day}),G=y(()=>x.value.concat(R.value.map(v=>v.from)).sort((v,k)=>v.year-k.year||v.month-k.month)[0]),De=y(()=>x.value.concat(R.value.map(v=>v.to)).sort((v,k)=>k.year-v.year||k.month-v.month)[0]),Z=y(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length>0)return e.subtitle;if(L.value===0)return kt;if(L.value>1){const u=G.value,v=De.value,k=$.value.monthsShort;return k[u.month-1]+(u.year!==v.year?" "+u.year+kt+k[v.month-1]+" ":u.month!==v.month?kt+k[v.month-1]:"")+" "+v.year}return x.value[0].year}),ie=y(()=>{const u=[r.iconSet.datetime.arrowLeft,r.iconSet.datetime.arrowRight];return r.lang.rtl===!0?u.reverse():u}),Me=y(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):$.value.firstDayOfWeek),Oe=y(()=>{const u=$.value.daysShort,v=Me.value;return v>0?u.slice(v,7).concat(u.slice(0,v)):u}),Y=y(()=>{const u=g.value;return e.calendar!=="persian"?new Date(u.year,u.month,0).getDate():sn(u.year,u.month)}),Ke=y(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),V=y(()=>{if(e.navigationMinYearMonth===void 0)return null;const u=e.navigationMinYearMonth.split("/");return{year:parseInt(u[0],10),month:parseInt(u[1],10)}}),j=y(()=>{if(e.navigationMaxYearMonth===void 0)return null;const u=e.navigationMaxYearMonth.split("/");return{year:parseInt(u[0],10),month:parseInt(u[1],10)}}),W=y(()=>{const u={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return V.value!==null&&V.value.year>=g.value.year&&(u.year.prev=!1,V.value.year===g.value.year&&V.value.month>=g.value.month&&(u.month.prev=!1)),j.value!==null&&j.value.year<=g.value.year&&(u.year.next=!1,j.value.year===g.value.year&&j.value.month<=g.value.month&&(u.month.next=!1)),u}),X=y(()=>{const u={};return x.value.forEach(v=>{const k=rt(v);u[k]===void 0&&(u[k]=[]),u[k].push(v.day)}),u}),ge=y(()=>{const u={};return R.value.forEach(v=>{const k=rt(v.from),N=rt(v.to);if(u[k]===void 0&&(u[k]=[]),u[k].push({from:v.from.day,to:k===N?v.to.day:void 0,range:v}),k<N){let O;const{year:ue,month:U}=v.from,ee=U<12?{year:ue,month:U+1}:{year:ue+1,month:1};for(;(O=rt(ee))<=N;)u[O]===void 0&&(u[O]=[]),u[O].push({from:void 0,to:O===N?v.to.day:void 0,range:v}),ee.month++,ee.month>12&&(ee.year++,ee.month=1)}}),u}),oe=y(()=>{if(h.value===null)return;const{init:u,initHash:v,final:k,finalHash:N}=h.value,[O,ue]=v<=N?[u,k]:[k,u],U=rt(O),ee=rt(ue);if(U!==J.value&&ee!==J.value)return;const be={};return U===J.value?(be.from=O.day,be.includeFrom=!0):be.from=1,ee===J.value?(be.to=ue.day,be.includeTo=!0):be.to=Y.value,be}),J=y(()=>rt(g.value)),Te=y(()=>{const u={};if(e.options===void 0){for(let k=1;k<=Y.value;k++)u[k]=!0;return u}const v=typeof e.options=="function"?e.options:k=>e.options.includes(k);for(let k=1;k<=Y.value;k++){const N=J.value+"/"+fe(k);u[k]=v(N)}return u}),we=y(()=>{const u={};if(e.events===void 0)for(let v=1;v<=Y.value;v++)u[v]=!1;else{const v=typeof e.events=="function"?e.events:k=>e.events.includes(k);for(let k=1;k<=Y.value;k++){const N=J.value+"/"+fe(k);u[k]=v(N)===!0&&Ke.value(N)}}return u}),Ze=y(()=>{let u,v;const{year:k,month:N}=g.value;if(e.calendar!=="persian")u=new Date(k,N-1,1),v=new Date(k,N-1,0).getDate();else{const O=xr(k,N,1);u=new Date(O.gy,O.gm-1,O.gd);let ue=N-1,U=k;ue===0&&(ue=12,U--),v=sn(U,ue)}return{days:u.getDay()-Me.value-1,endDay:v}}),He=y(()=>{const u=[],{days:v,endDay:k}=Ze.value,N=v<0?v+7:v;if(N<6)for(let U=k-N;U<=k;U++)u.push({i:U,fill:!0});const O=u.length;for(let U=1;U<=Y.value;U++){const ee={i:U,event:we.value[U],classes:[]};Te.value[U]===!0&&(ee.in=!0,ee.flat=!0),u.push(ee)}if(X.value[J.value]!==void 0&&X.value[J.value].forEach(U=>{const ee=O+U-1;Object.assign(u[ee],{selected:!0,unelevated:!0,flat:!1,color:S.value,textColor:H.value})}),ge.value[J.value]!==void 0&&ge.value[J.value].forEach(U=>{if(U.from!==void 0){const ee=O+U.from-1,be=O+(U.to||Y.value)-1;for(let Sn=ee;Sn<=be;Sn++)Object.assign(u[Sn],{range:U.range,unelevated:!0,color:S.value,textColor:H.value});Object.assign(u[ee],{rangeFrom:!0,flat:!1}),U.to!==void 0&&Object.assign(u[be],{rangeTo:!0,flat:!1})}else if(U.to!==void 0){const ee=O+U.to-1;for(let be=O;be<=ee;be++)Object.assign(u[be],{range:U.range,unelevated:!0,color:S.value,textColor:H.value});Object.assign(u[ee],{flat:!1,rangeTo:!0})}else{const ee=O+Y.value-1;for(let be=O;be<=ee;be++)Object.assign(u[be],{range:U.range,unelevated:!0,color:S.value,textColor:H.value})}}),oe.value!==void 0){const U=O+oe.value.from-1,ee=O+oe.value.to-1;for(let be=U;be<=ee;be++)u[be].color=S.value,u[be].editRange=!0;oe.value.includeFrom===!0&&(u[U].editRangeFrom=!0),oe.value.includeTo===!0&&(u[ee].editRangeTo=!0)}g.value.year===_.value.year&&g.value.month===_.value.month&&(u[O+_.value.day-1].today=!0);const ue=u.length%7;if(ue>0){const U=7-ue;for(let ee=1;ee<=U;ee++)u.push({i:ee,fill:!0})}return u.forEach(U=>{let ee="q-date__calendar-item ";U.fill===!0?ee+="q-date__calendar-item--fill":(ee+=`q-date__calendar-item--${U.in===!0?"in":"out"}`,U.range!==void 0&&(ee+=` q-date__range${U.rangeTo===!0?"-to":U.rangeFrom===!0?"-from":""}`),U.editRange===!0&&(ee+=` q-date__edit-range${U.editRangeFrom===!0?"-from":""}${U.editRangeTo===!0?"-to":""}`),(U.range!==void 0||U.editRange===!0)&&(ee+=` text-${U.color}`)),U.classes=ee}),u}),st=y(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});le(()=>e.modelValue,u=>{if(f===u)f=0;else{const{year:v,month:k}=Yt(I.value,$.value);Ae(v,k)}}),le(T,()=>{E.value!==null&&o.$el.contains(document.activeElement)===!0&&E.value.focus()}),le(()=>g.value.year,u=>{n("navigation",{year:u,month:g.value.month})}),le(()=>g.value.month,u=>{n("navigation",{year:g.value.year,month:u})}),le(D,u=>{ir(u,$.value,"mask"),I.value=u}),le(w,u=>{ir(I.value,u,"locale"),$.value=u});function ut(){const u=_.value,v=X.value[rt(u)];(v===void 0||v.includes(u.day)===!1)&&xn(u),_t(u.year,u.month)}function Cn(u){Tr(u)===!0&&(T.value=u)}function zt(u,v){["month","year"].includes(u)&&(u==="month"?Kt:q)(v===!0?-1:1)}function _t(u,v){T.value="Calendar",Ae(u,v)}function Bt(u,v){if(e.range===!1||!u){h.value=null;return}const k=Object.assign({...g.value},u),N=v!==void 0?Object.assign({...g.value},v):k;h.value={init:k,initHash:nt(k),final:N,finalHash:nt(N)},_t(k.year,k.month)}function jt(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Pt(u,v,k){return hl(u,v,k,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Yt(u,v){const k=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(k.length===0)return Ut();const N=k[k.length-1],O=Pt(N.from!==void 0?N.from:N,u,v);return O.dateHash===null?Ut():O}function Ut(){let u,v;if(e.defaultYearMonth!==void 0){const k=e.defaultYearMonth.split("/");u=parseInt(k[0],10),v=parseInt(k[1],10)}else{const k=_.value!==void 0?_.value:c();u=k.year,v=k.month}return{year:u,month:v,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:u+"/"+fe(v)+"/01"}}function Kt(u){let v=g.value.year,k=Number(g.value.month)+u;k===13?(k=1,v++):k===0&&(k=12,v--),Ae(v,k),F.value===!0&&tt("month")}function q(u){const v=Number(g.value.year)+u;Ae(v,g.value.month),F.value===!0&&tt("year")}function re(u){Ae(u,g.value.month),T.value=e.defaultView==="Years"?"Months":"Calendar",F.value===!0&&tt("year")}function de(u){Ae(g.value.year,u),T.value="Calendar",F.value===!0&&tt("month")}function ve(u,v){const k=X.value[v];(k!==void 0&&k.includes(u.day)===!0?kn:xn)(u)}function pe(u){return{year:u.year,month:u.month,day:u.day}}function Ae(u,v){V.value!==null&&u<=V.value.year&&(u=V.value.year,v<V.value.month&&(v=V.value.month)),j.value!==null&&u>=j.value.year&&(u=j.value.year,v>j.value.month&&(v=j.value.month));const k=u+"/"+fe(v)+"/01";k!==g.value.dateHash&&(b.value=g.value.dateHash<k==(r.lang.rtl!==!0)?"left":"right",u!==g.value.year&&(C.value=b.value),Fe(()=>{P.value=u-u%ct-(u<0?ct:0),Object.assign(g.value,{year:u,month:v,day:1,dateHash:k})}))}function wt(u,v,k){const N=u!==null&&u.length===1&&e.multiple===!1?u[0]:u;f=N;const{reason:O,details:ue}=lr(v,k);n("update:modelValue",N,O,ue)}function tt(u){const v=x.value[0]!==void 0&&x.value[0].dateHash!==null?{...x.value[0]}:{...g.value};Fe(()=>{v.year=g.value.year,v.month=g.value.month;const k=e.calendar!=="persian"?new Date(v.year,v.month,0).getDate():sn(v.year,v.month);v.day=Math.min(Math.max(1,v.day),k);const N=Ct(v);f=N;const{details:O}=lr("",v);n("update:modelValue",N,u,O)})}function lr(u,v){return v.from!==void 0?{reason:`${u}-range`,details:{...pe(v.target),from:pe(v.from),to:pe(v.to)}}:{reason:`${u}-day`,details:pe(v)}}function Ct(u,v,k){return u.from!==void 0?{from:K.value(u.from,v,k),to:K.value(u.to,v,k)}:K.value(u,v,k)}function xn(u){let v;if(e.multiple===!0)if(u.from!==void 0){const k=nt(u.from),N=nt(u.to),O=x.value.filter(U=>U.dateHash<k||U.dateHash>N),ue=R.value.filter(({from:U,to:ee})=>ee.dateHash<k||U.dateHash>N);v=O.concat(ue).concat(u).map(U=>Ct(U))}else{const k=ne.value.slice();k.push(Ct(u)),v=k}else v=Ct(u);wt(v,"add",u)}function kn(u){if(e.noUnset===!0)return;let v=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const k=Ct(u);u.from!==void 0?v=e.modelValue.filter(N=>N.from!==void 0?N.from!==k.from&&N.to!==k.to:!0):v=e.modelValue.filter(N=>N!==k),v.length===0&&(v=null)}wt(v,"remove",u)}function ir(u,v,k){const N=x.value.concat(R.value).map(O=>Ct(O,u,v)).filter(O=>O.from!==void 0?O.from.dateHash!==null&&O.to.dateHash!==null:O.dateHash!==null);n("update:modelValue",(e.multiple===!0?N:N[0])||null,k)}function zo(){if(e.minimal!==!0)return B("div",{class:"q-date__header "+s.value},[B("div",{class:"relative-position"},[B(et,{name:"q-transition--fade"},()=>B("div",{key:"h-yr-"+Z.value,class:"q-date__header-subtitle q-date__header-link "+(T.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:i.value,...l("vY",{onClick(){T.value="Years"},onKeyup(u){u.keyCode===13&&(T.value="Years")}})},[Z.value]))]),B("div",{class:"q-date__header-title relative-position flex no-wrap"},[B("div",{class:"relative-position col"},[B(et,{name:"q-transition--fade"},()=>B("div",{key:"h-sub"+ae.value,class:"q-date__header-title-label q-date__header-link "+(T.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:i.value,...l("vC",{onClick(){T.value="Calendar"},onKeyup(u){u.keyCode===13&&(T.value="Calendar")}})},[ae.value]))]),e.todayBtn===!0?B(Ve,{class:"q-date__header-today self-start",icon:r.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:i.value,onClick:ut}):null])])}function Mn({label:u,type:v,key:k,dir:N,goTo:O,boundaries:ue,cls:U}){return[B("div",{class:"row items-center q-date__arrow"},[B(Ve,{round:!0,dense:!0,size:"sm",flat:!0,icon:ie.value[0],tabindex:i.value,disable:ue.prev===!1,...l("go-#"+v,{onClick(){O(-1)}})})]),B("div",{class:"relative-position overflow-hidden flex flex-center"+U},[B(et,{name:"q-transition--jump-"+N},()=>B("div",{key:k},[B(Ve,{flat:!0,dense:!0,noCaps:!0,label:u,tabindex:i.value,...l("view#"+v,{onClick:()=>{T.value=v}})})]))]),B("div",{class:"row items-center q-date__arrow"},[B(Ve,{round:!0,dense:!0,size:"sm",flat:!0,icon:ie.value[1],tabindex:i.value,disable:ue.next===!1,...l("go+#"+v,{onClick(){O(1)}})})])]}const jo={Calendar:()=>[B("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[B("div",{class:"q-date__navigation row items-center no-wrap"},Mn({label:$.value.months[g.value.month-1],type:"Months",key:g.value.month,dir:b.value,goTo:Kt,boundaries:W.value.month,cls:" col"}).concat(Mn({label:g.value.year,type:"Years",key:g.value.year,dir:C.value,goTo:q,boundaries:W.value.year,cls:""}))),B("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Oe.value.map(u=>B("div",{class:"q-date__calendar-item"},[B("div",u)]))),B("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[B(et,{name:"q-transition--slide-"+b.value},()=>B("div",{key:J.value,class:"q-date__calendar-days fit"},He.value.map(u=>B("div",{class:u.classes},[u.in===!0?B(Ve,{class:u.today===!0?"q-date__today":"",dense:!0,flat:u.flat,unelevated:u.unelevated,color:u.color,textColor:u.textColor,label:u.i,tabindex:i.value,...l("day#"+u.i,{onClick:()=>{Yo(u.i)},onMouseover:()=>{Uo(u.i)}})},u.event!==!1?()=>B("div",{class:"q-date__event bg-"+u.event}):null):B("div",""+u.i)]))))])])],Months(){const u=g.value.year===_.value.year,v=N=>V.value!==null&&g.value.year===V.value.year&&V.value.month>N||j.value!==null&&g.value.year===j.value.year&&j.value.month<N,k=$.value.monthsShort.map((N,O)=>{const ue=g.value.month===O+1;return B("div",{class:"q-date__months-item flex flex-center"},[B(Ve,{class:u===!0&&_.value.month===O+1?"q-date__today":null,flat:ue!==!0,label:N,unelevated:ue,color:ue===!0?S.value:null,textColor:ue===!0?H.value:null,tabindex:i.value,disable:v(O+1),...l("month#"+O,{onClick:()=>{de(O+1)}})})])});return e.yearsInMonthView===!0&&k.unshift(B("div",{class:"row no-wrap full-width"},[Mn({label:g.value.year,type:"Years",key:g.value.year,dir:C.value,goTo:q,boundaries:W.value.year,cls:" col"})])),B("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},k)},Years(){const u=P.value,v=u+ct,k=[],N=O=>V.value!==null&&V.value.year>O||j.value!==null&&j.value.year<O;for(let O=u;O<=v;O++){const ue=g.value.year===O;k.push(B("div",{class:"q-date__years-item flex flex-center"},[B(Ve,{key:"yr"+O,class:_.value.year===O?"q-date__today":null,flat:!ue,label:O,dense:!0,unelevated:ue,color:ue===!0?S.value:null,textColor:ue===!0?H.value:null,tabindex:i.value,disable:N(O),...l("yr#"+O,{onClick:()=>{re(O)}})})]))}return B("div",{class:"q-date__view q-date__years flex flex-center"},[B("div",{class:"col-auto"},[B(Ve,{round:!0,dense:!0,flat:!0,icon:ie.value[0],tabindex:i.value,disable:N(u),...l("y-",{onClick:()=>{P.value-=ct}})})]),B("div",{class:"q-date__years-content col self-stretch row items-center"},k),B("div",{class:"col-auto"},[B(Ve,{round:!0,dense:!0,flat:!0,icon:ie.value[1],tabindex:i.value,disable:N(v),...l("y+",{onClick:()=>{P.value+=ct}})})])])}};function Yo(u){const v={...g.value,day:u};if(e.range===!1){ve(v,J.value);return}if(h.value===null){const k=He.value.find(O=>O.fill!==!0&&O.i===u);if(e.noUnset!==!0&&k.range!==void 0){kn({target:v,from:k.range.from,to:k.range.to});return}if(k.selected===!0){kn(v);return}const N=nt(v);h.value={init:v,initHash:N,final:v,finalHash:N},n("rangeStart",pe(v))}else{const k=h.value.initHash,N=nt(v),O=k<=N?{from:h.value.init,to:v}:{from:v,to:h.value.init};h.value=null,xn(k===N?v:{target:v,...O}),n("rangeEnd",{from:pe(O.from),to:pe(O.to)})}}function Uo(u){if(h.value!==null){const v={...g.value,day:u};Object.assign(h.value,{final:v,finalHash:nt(v)})}}return Object.assign(o,{setToday:ut,setView:Cn,offsetCalendar:zt,setCalendarTo:_t,setEditingRange:Bt}),()=>{const u=[B("div",{class:"q-date__content col relative-position"},[B(et,{name:"q-transition--fade"},jo[T.value])])],v=at(t.default);return v!==void 0&&u.push(B("div",{class:"q-date__actions"},v)),e.name!==void 0&&e.disable!==!0&&p(u,"push"),B("div",{class:z.value,...st.value},[zo(),B("div",{ref:E,class:"q-date__main col column",tabindex:-1},u)])}}});function pl(e,t,n){let o;function r(){o!==void 0&&(sr.remove(o),o=void 0)}return Re(()=>{e.value===!0&&r()}),{removeFromHistory:r,addToHistory(){o={condition:()=>n.value===!0,handler:t},sr.add(o)}}}function po(){let e=null;const t=Ee();function n(){e!==null&&(clearTimeout(e),e=null)}return Xn(n),Re(n),{removeTimeout:n,registerTimeout(o,r){n(),ro(t)===!1&&(e=setTimeout(o,r))}}}function bo(){let e;const t=Ee();function n(){e=void 0}return Xn(n),Re(n),{removeTick:n,registerTick(o){e=o,Fe(()=>{e===o&&(ro(t)===!1&&e(),e=void 0)})}}}const yo={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},wo=["beforeShow","show","beforeHide","hide"];function Co({showing:e,canShow:t,hideOnRouteChange:n,handleShow:o,handleHide:r,processOnMount:a}){const l=Ee(),{props:i,emit:s,proxy:d}=l;let c;function f(w){e.value===!0?E(w):M(w)}function M(w){if(i.disable===!0||w!==void 0&&w.qAnchorHandled===!0||t!==void 0&&t(w)!==!0)return;const _=i["onUpdate:modelValue"]!==void 0;_===!0&&(s("update:modelValue",!0),c=w,Fe(()=>{c===w&&(c=void 0)})),(i.modelValue===null||_===!1)&&p(w)}function p(w){e.value!==!0&&(e.value=!0,s("beforeShow",w),o!==void 0?o(w):s("show",w))}function E(w){if(i.disable===!0)return;const _=i["onUpdate:modelValue"]!==void 0;_===!0&&(s("update:modelValue",!1),c=w,Fe(()=>{c===w&&(c=void 0)})),(i.modelValue===null||_===!1)&&I(w)}function I(w){e.value!==!1&&(e.value=!1,s("beforeHide",w),r!==void 0?r(w):s("hide",w))}function $(w){i.disable===!0&&w===!0?i["onUpdate:modelValue"]!==void 0&&s("update:modelValue",!1):w===!0!==e.value&&(w===!0?p:I)(c)}le(()=>i.modelValue,$),n!==void 0&&va(l)===!0&&le(()=>d.$route.fullPath,()=>{n.value===!0&&e.value===!0&&E()}),a===!0&&Nt(()=>{$(i.modelValue)});const D={show:M,hide:E,toggle:f};return Object.assign(d,D),D}const xo={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function ko(e,t=()=>{},n=()=>{}){return{transitionProps:y(()=>{const o=`q-transition--${e.transitionShow||t()}`,r=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${r}-leave-from`,leaveActiveClass:`${r}-leave-active`,leaveToClass:`${r}-leave-to`}}),transitionStyle:y(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let bl=1,yl=document.body;function wl(e,t){const n=document.createElement("div");if(n.id=t!==void 0?`q-portal--${t}--${bl++}`:e,ur.globalNodes!==void 0){const o=ur.globalNodes.class;o!==void 0&&(n.className=o)}return yl.appendChild(n),n}function Cl(e){e.remove()}const Et=[];function xl(e){return Et.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function Mo(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return ln(e)}else if(e.__qPortal===!0){const n=ln(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=ln(e)}while(e!=null)}function kl(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=Mo(e,t);continue}e.hide(t)}e=ln(e)}}function Ml(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function So(e,t,n,o){const r=Q(!1),a=Q(!1);let l=null;const i={},s=o==="dialog"&&Ml(e);function d(f){if(f===!0){yr(i),a.value=!0;return}a.value=!1,r.value===!1&&(s===!1&&l===null&&(l=wl(!1,o)),r.value=!0,Et.push(e.proxy),Ra(i))}function c(f){if(a.value=!1,f!==!0)return;yr(i),r.value=!1;const M=Et.indexOf(e.proxy);M!==-1&&Et.splice(M,1),l!==null&&(Cl(l),l=null)}return oa(()=>{c(!0)}),e.proxy.__qPortal=!0,hn(e.proxy,"contentEl",()=>t.value),{showPortal:d,hidePortal:c,portalIsActive:r,portalIsAccessible:a,renderPortal:()=>s===!0?n():r.value===!0?[B(aa,{to:l},n())]:void 0}}let Ft=0,Pn,qn,It,Fn=!1,Ar,_r,Br,dt=null;function Sl(e){Dl(e)&&Ht(e)}function Dl(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=la(e),n=e.shiftKey&&!e.deltaX,o=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),r=n||o?e.deltaY:e.deltaX;for(let a=0;a<t.length;a++){const l=t[a];if(pa(l,o))return o?r<0&&l.scrollTop===0?!0:r>0&&l.scrollTop+l.clientHeight===l.scrollHeight:r<0&&l.scrollLeft===0?!0:r>0&&l.scrollLeft+l.clientWidth===l.scrollWidth}return!0}function Pr(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function Qt(e){Fn!==!0&&(Fn=!0,requestAnimationFrame(()=>{Fn=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:o}=document.scrollingElement;(It===void 0||t!==window.innerHeight)&&(It=n-t,document.scrollingElement.scrollTop=o),o>It&&(document.scrollingElement.scrollTop-=Math.ceil((o-It)/8))}))}function qr(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:o,overflowX:r}=window.getComputedStyle(t);Pn=ma(window),qn=ga(window),Ar=t.style.left,_r=t.style.top,Br=window.location.href,t.style.left=`-${Pn}px`,t.style.top=`-${qn}px`,r!=="hidden"&&(r==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),o!=="hidden"&&(o==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,_e.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",Qt,je.passiveCapture),window.visualViewport.addEventListener("scroll",Qt,je.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",Pr,je.passiveCapture))}_e.is.desktop===!0&&_e.is.mac===!0&&window[`${e}EventListener`]("wheel",Sl,je.notPassive),e==="remove"&&(_e.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",Qt,je.passiveCapture),window.visualViewport.removeEventListener("scroll",Qt,je.passiveCapture)):window.removeEventListener("scroll",Pr,je.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=Ar,t.style.top=_r,window.location.href===Br&&window.scrollTo(Pn,qn),It=void 0)}function El(e){let t="add";if(e===!0){if(Ft++,dt!==null){clearTimeout(dt),dt=null;return}if(Ft>1)return}else{if(Ft===0||(Ft--,Ft>0))return;if(t="remove",_e.is.ios===!0&&_e.is.nativeMobile===!0){dt!==null&&clearTimeout(dt),dt=setTimeout(()=>{qr(t),dt=null},100);return}}qr(t)}function Tl(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,El(t))}}}const vt=[];let Tt;function Al(e){Tt=e.keyCode===27}function _l(){Tt===!0&&(Tt=!1)}function Bl(e){Tt===!0&&(Tt=!1,Qn(e,27)===!0&&vt[vt.length-1](e))}function Do(e){window[e]("keydown",Al),window[e]("blur",_l),window[e]("keyup",Bl),Tt=!1}function Eo(e){_e.is.desktop===!0&&(vt.push(e),vt.length===1&&Do("addEventListener"))}function cn(e){const t=vt.indexOf(e);t>-1&&(vt.splice(t,1),vt.length===0&&Do("removeEventListener"))}const mt=[];function To(e){mt[mt.length-1](e)}function Ao(e){_e.is.desktop===!0&&(mt.push(e),mt.length===1&&document.body.addEventListener("focusin",To))}function Kn(e){const t=mt.indexOf(e);t>-1&&(mt.splice(t,1),mt.length===0&&document.body.removeEventListener("focusin",To))}let Jt=0;const Pl={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Fr={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var ql=yt({name:"QDialog",inheritAttrs:!1,props:{...yo,...xo,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...wo,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){const r=Ee(),a=Q(null),l=Q(!1),i=Q(!1);let s=null,d=null,c,f;const M=y(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:p}=Tl(),{registerTimeout:E}=po(),{registerTick:I,removeTick:$}=bo(),{transitionProps:D,transitionStyle:w}=ko(e,()=>Fr[e.position][0],()=>Fr[e.position][1]),{showPortal:_,hidePortal:g,portalIsAccessible:T,renderPortal:m}=So(r,a,De,"dialog"),{hide:b}=Co({showing:l,hideOnRouteChange:M,handleShow:H,handleHide:F,processOnMount:!0}),{addToHistory:C,removeFromHistory:A}=pl(l,b,M),P=y(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Pl[e.position]}`+(i.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),h=y(()=>l.value===!0&&e.seamless!==!0),z=y(()=>e.autoClose===!0?{onClick:L}:{}),S=y(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${h.value===!0?"modal":"seamless"}`,o.class]);le(()=>e.maximized,Z=>{l.value===!0&&K(Z)}),le(h,Z=>{p(Z),Z===!0?(Ao(G),Eo(R)):(Kn(G),cn(R))});function H(Z){C(),d=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,K(e.maximized),_(),i.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),I(ne)):$(),E(()=>{if(r.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:ie,bottom:Me}=document.activeElement.getBoundingClientRect(),{innerHeight:Oe}=window,Y=window.visualViewport!==void 0?window.visualViewport.height:Oe;ie>0&&Me>Y/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Y,Me>=Oe?1/0:Math.ceil(document.scrollingElement.scrollTop+Me-Y/2))),document.activeElement.scrollIntoView()}f=!0,a.value.click(),f=!1}_(!0),i.value=!1,n("show",Z)},e.transitionDuration)}function F(Z){$(),A(),te(!0),i.value=!0,g(),d!==null&&(((Z&&Z.type.indexOf("key")===0?d.closest('[tabindex]:not([tabindex^="-"])'):void 0)||d).focus(),d=null),E(()=>{g(!0),i.value=!1,n("hide",Z)},e.transitionDuration)}function ne(Z){gn(()=>{let ie=a.value;ie===null||ie.contains(document.activeElement)===!0||(ie=(Z!==""?ie.querySelector(Z):null)||ie.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||ie.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||ie.querySelector("[autofocus], [data-autofocus]")||ie,ie.focus({preventScroll:!0}))})}function x(Z){Z&&typeof Z.focus=="function"?Z.focus({preventScroll:!0}):ne(),n("shake");const ie=a.value;ie!==null&&(ie.classList.remove("q-animate--scale"),ie.classList.add("q-animate--scale"),s!==null&&clearTimeout(s),s=setTimeout(()=>{s=null,a.value!==null&&(ie.classList.remove("q-animate--scale"),ne())},170))}function R(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&x():(n("escapeKey"),b()))}function te(Z){s!==null&&(clearTimeout(s),s=null),(Z===!0||l.value===!0)&&(K(!1),e.seamless!==!0&&(p(!1),Kn(G),cn(R))),Z!==!0&&(d=null)}function K(Z){Z===!0?c!==!0&&(Jt<1&&document.body.classList.add("q-body--dialog"),Jt++,c=!0):c===!0&&(Jt<2&&document.body.classList.remove("q-body--dialog"),Jt--,c=!1)}function L(Z){f!==!0&&(b(Z),n("click",Z))}function ae(Z){e.persistent!==!0&&e.noBackdropDismiss!==!0?b(Z):e.noShake!==!0&&x()}function G(Z){e.allowFocusOutside!==!0&&T.value===!0&&no(a.value,Z.target)!==!0&&ne('[tabindex]:not([tabindex="-1"])')}Object.assign(r.proxy,{focus:ne,shake:x,__updateRefocusTarget(Z){d=Z||null}}),Re(te);function De(){return B("div",{role:"dialog","aria-modal":h.value===!0?"true":"false",...o,class:S.value},[B(et,{name:"q-transition--fade",appear:!0},()=>h.value===!0?B("div",{class:"q-dialog__backdrop fixed-full",style:w.value,"aria-hidden":"true",tabindex:-1,onClick:ae}):null),B(et,D.value,()=>l.value===!0?B("div",{ref:a,class:P.value,style:w.value,tabindex:-1,...z.value},at(t.default)):null)])}return m}});const _o={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Bo({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:o,proxy:r,emit:a}=Ee(),l=Q(null);let i=null;function s(p){return l.value===null?!1:p===void 0||p.touches===void 0||p.touches.length<=1}const d={};n===void 0&&(Object.assign(d,{hide(p){r.hide(p)},toggle(p){r.toggle(p),p.qAnchorHandled=!0},toggleKey(p){Qn(p,13)===!0&&d.toggle(p)},contextClick(p){r.hide(p),Je(p),Fe(()=>{r.show(p),p.qAnchorHandled=!0})},prevent:Je,mobileTouch(p){if(d.mobileCleanup(p),s(p)!==!0)return;r.hide(p),l.value.classList.add("non-selectable");const E=p.target;St(d,"anchor",[[E,"touchmove","mobileCleanup","passive"],[E,"touchend","mobileCleanup","passive"],[E,"touchcancel","mobileCleanup","passive"],[l.value,"contextmenu","prevent","notPassive"]]),i=setTimeout(()=>{i=null,r.show(p),p.qAnchorHandled=!0},300)},mobileCleanup(p){l.value.classList.remove("non-selectable"),i!==null&&(clearTimeout(i),i=null),e.value===!0&&p!==void 0&&lo()}}),n=function(p=o.contextMenu){if(o.noParentEvent===!0||l.value===null)return;let E;p===!0?r.$q.platform.is.mobile===!0?E=[[l.value,"touchstart","mobileTouch","passive"]]:E=[[l.value,"mousedown","hide","passive"],[l.value,"contextmenu","contextClick","notPassive"]]:E=[[l.value,"click","toggle","passive"],[l.value,"keyup","toggleKey","passive"]],St(d,"anchor",E)});function c(){on(d,"anchor")}function f(p){for(l.value=p;l.value.classList.contains("q-anchor--skip");)l.value=l.value.parentNode;n()}function M(){if(o.target===!1||o.target===""||r.$el.parentNode===null)l.value=null;else if(o.target===!0)f(r.$el.parentNode);else{let p=o.target;if(typeof o.target=="string")try{p=document.querySelector(o.target)}catch{p=void 0}p!=null?(l.value=p.$el||p,n()):(l.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return le(()=>o.contextMenu,p=>{l.value!==null&&(c(),n(p))}),le(()=>o.target,()=>{l.value!==null&&c(),M()}),le(()=>o.noParentEvent,p=>{l.value!==null&&(p===!0?c():n())}),Nt(()=>{M(),t!==!0&&o.modelValue===!0&&l.value===null&&a("update:modelValue",!1)}),Re(()=>{i!==null&&clearTimeout(i),c()}),{anchorEl:l,canShow:s,anchorEvents:d}}function Fl(e,t){const n=Q(null);let o;function r(i,s){const d=`${s!==void 0?"add":"remove"}EventListener`,c=s!==void 0?s:o;i!==window&&i[d]("scroll",c,je.passive),window[d]("scroll",c,je.passive),o=s}function a(){n.value!==null&&(r(n.value),n.value=null)}const l=le(()=>e.noParentEvent,()=>{n.value!==null&&(a(),t())});return Re(l),{localScrollTarget:n,unconfigureScrollTarget:a,changeScrollEvent:r}}const{notPassiveCapture:dn}=je,gt=[];function fn(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=Et.length-1;for(;n>=0;){const o=Et[n].$;if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;n--}for(let o=gt.length-1;o>=0;o--){const r=gt[o];if((r.anchorEl.value===null||r.anchorEl.value.contains(t)===!1)&&(t===document.body||r.innerRef.value!==null&&r.innerRef.value.contains(t)===!1))e.qClickOutside=!0,r.onClickOutside(e);else return}}function Ll(e){gt.push(e),gt.length===1&&(document.addEventListener("mousedown",fn,dn),document.addEventListener("touchstart",fn,dn))}function Lr(e){const t=gt.findIndex(n=>n===e);t>-1&&(gt.splice(t,1),gt.length===0&&(document.removeEventListener("mousedown",fn,dn),document.removeEventListener("touchstart",fn,dn)))}let Ir,$r;function Rr(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Il(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Zn={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Zn[`${e}#ltr`]=e,Zn[`${e}#rtl`]=e});function Vr(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:Zn[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function $l(e,t){let{top:n,left:o,right:r,bottom:a,width:l,height:i}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],o-=t[0],a+=t[1],r+=t[0],l+=t[0],i+=t[1]),{top:n,bottom:a,height:i,left:o,right:r,width:l,middle:o+(r-o)/2,center:n+(a-n)/2}}function Rl(e,t,n){let{top:o,left:r}=e.getBoundingClientRect();return o+=t.top,r+=t.left,n!==void 0&&(o+=n[1],r+=n[0]),{top:o,bottom:o+1,height:1,left:r,right:r+1,width:1,middle:r,center:o}}function Vl(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function Or(e,t,n){return{top:e[n.anchorOrigin.vertical]-t[n.selfOrigin.vertical],left:e[n.anchorOrigin.horizontal]-t[n.selfOrigin.horizontal]}}function Ol(e){if(_e.is.ios===!0&&window.visualViewport!==void 0){const i=document.body.style,{offsetLeft:s,offsetTop:d}=window.visualViewport;s!==Ir&&(i.setProperty("--q-pe-left",s+"px"),Ir=s),d!==$r&&(i.setProperty("--q-pe-top",d+"px"),$r=d)}const{scrollLeft:t,scrollTop:n}=e.el,o=e.absoluteOffset===void 0?$l(e.anchorEl,e.cover===!0?[0,0]:e.offset):Rl(e.anchorEl,e.absoluteOffset,e.offset);let r={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(r.minWidth=o.width+"px",e.cover===!0&&(r.minHeight=o.height+"px")),Object.assign(e.el.style,r);const a=Vl(e.el);let l=Or(o,a,e);if(e.absoluteOffset===void 0||e.offset===void 0)Ln(l,o,a,e.anchorOrigin,e.selfOrigin);else{const{top:i,left:s}=l;Ln(l,o,a,e.anchorOrigin,e.selfOrigin);let d=!1;if(l.top!==i){d=!0;const c=2*e.offset[1];o.center=o.top-=c,o.bottom-=c+2}if(l.left!==s){d=!0;const c=2*e.offset[0];o.middle=o.left-=c,o.right-=c+2}d===!0&&(l=Or(o,a,e),Ln(l,o,a,e.anchorOrigin,e.selfOrigin))}r={top:l.top+"px",left:l.left+"px"},l.maxHeight!==void 0&&(r.maxHeight=l.maxHeight+"px",o.height>l.maxHeight&&(r.minHeight=r.maxHeight)),l.maxWidth!==void 0&&(r.maxWidth=l.maxWidth+"px",o.width>l.maxWidth&&(r.minWidth=r.maxWidth)),Object.assign(e.el.style,r),e.el.scrollTop!==n&&(e.el.scrollTop=n),e.el.scrollLeft!==t&&(e.el.scrollLeft=t)}function Ln(e,t,n,o,r){const a=n.bottom,l=n.right,i=ba(),s=window.innerHeight-i,d=document.body.clientWidth;if(e.top<0||e.top+a>s)if(r.vertical==="center")e.top=t[o.vertical]>s/2?Math.max(0,s-a):0,e.maxHeight=Math.min(a,s);else if(t[o.vertical]>s/2){const c=Math.min(s,o.vertical==="center"?t.center:o.vertical===r.vertical?t.bottom:t.top);e.maxHeight=Math.min(a,c),e.top=Math.max(0,c-a)}else e.top=Math.max(0,o.vertical==="center"?t.center:o.vertical===r.vertical?t.top:t.bottom),e.maxHeight=Math.min(a,s-e.top);if(e.left<0||e.left+l>d)if(e.maxWidth=Math.min(l,d),r.horizontal==="middle")e.left=t[o.horizontal]>d/2?Math.max(0,d-l):0;else if(t[o.horizontal]>d/2){const c=Math.min(d,o.horizontal==="middle"?t.middle:o.horizontal===r.horizontal?t.right:t.left);e.maxWidth=Math.min(l,c),e.left=Math.max(0,c-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?t.middle:o.horizontal===r.horizontal?t.left:t.right),e.maxWidth=Math.min(l,d-e.left)}var Hl=yt({name:"QMenu",inheritAttrs:!1,props:{..._o,...yo,...vn,...xo,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Rr},self:{type:String,validator:Rr},offset:{type:Array,validator:Il},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...wo,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){let r=null,a,l,i;const s=Ee(),{proxy:d}=s,{$q:c}=d,f=Q(null),M=Q(!1),p=y(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),E=mn(e,c),{registerTick:I,removeTick:$}=bo(),{registerTimeout:D}=po(),{transitionProps:w,transitionStyle:_}=ko(e),{localScrollTarget:g,changeScrollEvent:T,unconfigureScrollTarget:m}=Fl(e,G),{anchorEl:b,canShow:C}=Bo({showing:M}),{hide:A}=Co({showing:M,canShow:C,handleShow:K,handleHide:L,hideOnRouteChange:p,processOnMount:!0}),{showPortal:P,hidePortal:h,renderPortal:z}=So(s,f,Oe,"menu"),S={anchorEl:b,innerRef:f,onClickOutside(Y){if(e.persistent!==!0&&M.value===!0)return A(Y),(Y.type==="touchstart"||Y.target.classList.contains("q-dialog__backdrop"))&&Ht(Y),!0}},H=y(()=>Vr(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),F=y(()=>e.cover===!0?H.value:Vr(e.self||"top start",c.lang.rtl)),ne=y(()=>(e.square===!0?" q-menu--square":"")+(E.value===!0?" q-menu--dark q-dark":"")),x=y(()=>e.autoClose===!0?{onClick:De}:{}),R=y(()=>M.value===!0&&e.persistent!==!0);le(R,Y=>{Y===!0?(Eo(ie),Ll(S)):(cn(ie),Lr(S))});function te(){gn(()=>{let Y=f.value;Y&&Y.contains(document.activeElement)!==!0&&(Y=Y.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||Y.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||Y.querySelector("[autofocus], [data-autofocus]")||Y,Y.focus({preventScroll:!0}))})}function K(Y){if(r=e.noRefocus===!1?document.activeElement:null,Ao(Z),P(),G(),a=void 0,Y!==void 0&&(e.touchPosition||e.contextMenu)){const Ke=Vt(Y);if(Ke.left!==void 0){const{top:V,left:j}=b.value.getBoundingClientRect();a={left:Ke.left-j,top:Ke.top-V}}}l===void 0&&(l=le(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,Me)),e.noFocus!==!0&&document.activeElement.blur(),I(()=>{Me(),e.noFocus!==!0&&te()}),D(()=>{c.platform.is.ios===!0&&(i=e.autoClose,f.value.click()),Me(),P(!0),n("show",Y)},e.transitionDuration)}function L(Y){$(),h(),ae(!0),r!==null&&(Y===void 0||Y.qClickOutside!==!0)&&(((Y&&Y.type.indexOf("key")===0?r.closest('[tabindex]:not([tabindex^="-"])'):void 0)||r).focus(),r=null),D(()=>{h(!0),n("hide",Y)},e.transitionDuration)}function ae(Y){a=void 0,l!==void 0&&(l(),l=void 0),(Y===!0||M.value===!0)&&(Kn(Z),m(),Lr(S),cn(ie)),Y!==!0&&(r=null)}function G(){(b.value!==null||e.scrollTarget!==void 0)&&(g.value=ya(b.value,e.scrollTarget),T(g.value,Me))}function De(Y){i!==!0?(Mo(d,Y),n("click",Y)):i=!1}function Z(Y){R.value===!0&&e.noFocus!==!0&&no(f.value,Y.target)!==!0&&te()}function ie(Y){n("escapeKey"),A(Y)}function Me(){const Y=f.value;Y===null||b.value===null||Ol({el:Y,offset:e.offset,anchorEl:b.value,anchorOrigin:H.value,selfOrigin:F.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Oe(){return B(et,w.value,()=>M.value===!0?B("div",{role:"menu",...o,ref:f,tabindex:-1,class:["q-menu q-position-engine scroll"+ne.value,o.class],style:[o.style,_.value],...x.value},at(t.default)):null)}return Re(ae),Object.assign(d,{focus:te,updatePosition:Me}),z}}),Nl=yt({name:"QPopupProxy",props:{..._o,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:t,emit:n,attrs:o}){const{proxy:r}=Ee(),{$q:a}=r,l=Q(!1),i=Q(null),s=y(()=>parseInt(e.breakpoint,10)),{canShow:d}=Bo({showing:l});function c(){return a.screen.width<s.value||a.screen.height<s.value?"dialog":"menu"}const f=Q(c()),M=y(()=>f.value==="menu"?{maxHeight:"99vh"}:{});le(()=>c(),I=>{l.value!==!0&&(f.value=I)});function p(I){l.value=!0,n("show",I)}function E(I){l.value=!1,f.value=c(),n("hide",I)}return Object.assign(r,{show(I){d(I)===!0&&i.value.show(I)},hide(I){i.value.hide(I)},toggle(I){i.value.toggle(I)}}),hn(r,"currentComponent",()=>({type:f.value,ref:i.value})),()=>{const I={ref:i,...M.value,...o,onShow:p,onHide:E};let $;return f.value==="dialog"?$=ql:($=Hl,Object.assign(I,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),B($,I,t.default)}}}),zl=yt({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=Ee(),o=Hn(ia,xt);if(o===xt)return console.error("QPage needs to be a deep child of QLayout"),xt;if(Hn(sa,xt)===xt)return console.error("QPage needs to be child of QPageContainer"),xt;const a=y(()=>{const i=(o.header.space===!0?o.header.size:0)+(o.footer.space===!0?o.footer.size:0);if(typeof e.styleFn=="function"){const s=o.isContainer.value===!0?o.containerHeight.value:n.screen.height;return e.styleFn(i,s)}return{minHeight:o.isContainer.value===!0?o.containerHeight.value-i+"px":n.screen.height===0?i!==0?`calc(100vh - ${i}px)`:"100vh":n.screen.height-i+"px"}}),l=y(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>B("main",{class:l.value,style:a.value},at(t.default))}});function Hr(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var jl=to({name:"close-popup",beforeMount(e,{value:t}){const n={depth:Hr(t),handler(o){n.depth!==0&&setTimeout(()=>{const r=xl(e);r!==void 0&&kl(r,o,n.depth)})},handlerKey(o){Qn(o,13)===!0&&n.handler(o)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=Hr(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function In(e){return e===""?e:e==="true"||e=="1"}function Yl(e,t){return new Promise((n,o)=>{var r=new XMLHttpRequest;r.responseType="blob",r.onload=function(){var a=new FileReader;a.onloadend=function(){n(a.result)},a.readAsArrayBuffer(r.response)},r.open("GET",e),r.send()})}function Ne(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function Nr(e,t){for(var n="",o=0,r=-1,a=0,l,i=0;i<=e.length;++i){if(i<e.length)l=e.charCodeAt(i);else{if(l===47)break;l=47}if(l===47){if(!(r===i-1||a===1))if(r!==i-1&&a===2){if(n.length<2||o!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var s=n.lastIndexOf("/");if(s!==n.length-1){s===-1?(n="",o=0):(n=n.slice(0,s),o=n.length-1-n.lastIndexOf("/")),r=i,a=0;continue}}else if(n.length===2||n.length===1){n="",o=0,r=i,a=0;continue}}t&&(n.length>0?n+="/..":n="..",o=2)}else n.length>0?n+="/"+e.slice(r+1,i):n=e.slice(r+1,i),o=i-r-1;r=i,a=0}else l===46&&a!==-1?++a:a=-1}return n}function Ul(e,t){var n=t.dir||t.root,o=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+o:n+e+o:o}var pt={resolve:function(){for(var t="",n=!1,o,r=arguments.length-1;r>=-1&&!n;r--){var a;r>=0?a=arguments[r]:(o===void 0&&(o=process.cwd()),a=o),Ne(a),a.length!==0&&(t=a+"/"+t,n=a.charCodeAt(0)===47)}return t=Nr(t,!n),n?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(t){if(Ne(t),t.length===0)return".";var n=t.charCodeAt(0)===47,o=t.charCodeAt(t.length-1)===47;return t=Nr(t,!n),t.length===0&&!n&&(t="."),t.length>0&&o&&(t+="/"),n?"/"+t:t},isAbsolute:function(t){return Ne(t),t.length>0&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,n=0;n<arguments.length;++n){var o=arguments[n];Ne(o),o.length>0&&(t===void 0?t=o:t+="/"+o)}return t===void 0?".":pt.normalize(t)},relative:function(t,n){if(Ne(t),Ne(n),t===n||(t=pt.resolve(t),n=pt.resolve(n),t===n))return"";for(var o=1;o<t.length&&t.charCodeAt(o)===47;++o);for(var r=t.length,a=r-o,l=1;l<n.length&&n.charCodeAt(l)===47;++l);for(var i=n.length,s=i-l,d=a<s?a:s,c=-1,f=0;f<=d;++f){if(f===d){if(s>d){if(n.charCodeAt(l+f)===47)return n.slice(l+f+1);if(f===0)return n.slice(l+f)}else a>d&&(t.charCodeAt(o+f)===47?c=f:f===0&&(c=0));break}var M=t.charCodeAt(o+f),p=n.charCodeAt(l+f);if(M!==p)break;M===47&&(c=f)}var E="";for(f=o+c+1;f<=r;++f)(f===r||t.charCodeAt(f)===47)&&(E.length===0?E+="..":E+="/..");return E.length>0?E+n.slice(l+c):(l+=c,n.charCodeAt(l)===47&&++l,n.slice(l))},_makeLong:function(t){return t},dirname:function(t){if(Ne(t),t.length===0)return".";for(var n=t.charCodeAt(0),o=n===47,r=-1,a=!0,l=t.length-1;l>=1;--l)if(n=t.charCodeAt(l),n===47){if(!a){r=l;break}}else a=!1;return r===-1?o?"/":".":o&&r===1?"//":t.slice(0,r)},basename:function(t,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Ne(t);var o=0,r=-1,a=!0,l;if(n!==void 0&&n.length>0&&n.length<=t.length){if(n.length===t.length&&n===t)return"";var i=n.length-1,s=-1;for(l=t.length-1;l>=0;--l){var d=t.charCodeAt(l);if(d===47){if(!a){o=l+1;break}}else s===-1&&(a=!1,s=l+1),i>=0&&(d===n.charCodeAt(i)?--i===-1&&(r=l):(i=-1,r=s))}return o===r?r=s:r===-1&&(r=t.length),t.slice(o,r)}else{for(l=t.length-1;l>=0;--l)if(t.charCodeAt(l)===47){if(!a){o=l+1;break}}else r===-1&&(a=!1,r=l+1);return r===-1?"":t.slice(o,r)}},extname:function(t){Ne(t);for(var n=-1,o=0,r=-1,a=!0,l=0,i=t.length-1;i>=0;--i){var s=t.charCodeAt(i);if(s===47){if(!a){o=i+1;break}continue}r===-1&&(a=!1,r=i+1),s===46?n===-1?n=i:l!==1&&(l=1):n!==-1&&(l=-1)}return n===-1||r===-1||l===0||l===1&&n===r-1&&n===o+1?"":t.slice(n,r)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return Ul("/",t)},parse:function(t){Ne(t);var n={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return n;var o=t.charCodeAt(0),r=o===47,a;r?(n.root="/",a=1):a=0;for(var l=-1,i=0,s=-1,d=!0,c=t.length-1,f=0;c>=a;--c){if(o=t.charCodeAt(c),o===47){if(!d){i=c+1;break}continue}s===-1&&(d=!1,s=c+1),o===46?l===-1?l=c:f!==1&&(f=1):l!==-1&&(f=-1)}return l===-1||s===-1||f===0||f===1&&l===s-1&&l===i+1?s!==-1&&(i===0&&r?n.base=n.name=t.slice(1,s):n.base=n.name=t.slice(i,s)):(i===0&&r?(n.name=t.slice(1,l),n.base=t.slice(1,s)):(n.name=t.slice(i,l),n.base=t.slice(i,s)),n.ext=t.slice(l,s)),i>0?n.dir=t.slice(0,i-1):r&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};pt.posix=pt;const Kl=pt.extname,Po=pt.basename;class Zl{constructor(){let t=(()=>typeof global=="undefined")(),n="image/png",o="image/jpeg",r="image/jpeg",a="image/webp",l="application/pdf",i="image/svg+xml";Object.assign(this,{toMime:this.toMime.bind(this),fromMime:this.fromMime.bind(this),expected:t?'"png", "jpg", or "webp"':'"png", "jpg", "pdf", or "svg"',formats:t?{png:n,jpg:o,jpeg:r,webp:a}:{png:n,jpg:o,jpeg:r,pdf:l,svg:i},mimes:t?{[n]:"png",[o]:"jpg",[a]:"webp"}:{[n]:"png",[o]:"jpg",[l]:"pdf",[i]:"svg"}})}toMime(t){return this.formats[(t||"").replace(/^\./,"").toLowerCase()]}fromMime(t){return this.mimes[t]}}function Wl(e,{filename:t="",extension:n="",format:I,page:r,quality:a,matte:l,density:i,outline:s,archive:p}={}){var{fromMime:c,toMime:f,expected:M}=new Zl,p=p||"canvas",E=I||n.replace(/@\d+x$/i,"")||Kl(t),I=c(f(E)||E),$=f(I),D=e.length;if(!E)throw new Error("Cannot determine image format (use a filename extension or 'format' argument)");if(!I)throw new Error(`Unsupported file format "${E}" (expected ${M})`);if(!D)throw new RangeError("Canvas has no associated contexts (try calling getContext or newPage first)");let w,_,g=t.replace(/{(\d*)}/g,(m,b)=>(_=!0,b=parseInt(b,10),w=isFinite(b)?b:isFinite(w)?w:-1,"{}")),T=r>0?r-1:r<0?D+r:void 0;if(isFinite(T)&&T<0||T>=D)throw new RangeError(D==1?`Canvas only has a \u2018page 1\u2019 (${T} is out of bounds)`:`Canvas has pages 1\u2013${D} (${T} is out of bounds)`);if(e=isFinite(T)?[e[T]]:_||I=="pdf"?e:e.slice(-1),a===void 0)a=.92;else if(typeof a!="number"||!isFinite(a)||a<0||a>1)throw new TypeError("The quality option must be an number in the 0.0\u20131.0 range");if(i===void 0){let m=(n||Po(t,E)).match(/@(\d+)x$/i);i=m?parseInt(m[1],10):1}else if(typeof i!="number"||!Number.isInteger(i)||i<1)throw new TypeError("The density option must be a non-negative integer");return s===void 0?s=!0:I=="svg"&&(s=!!s),{filename:t,pattern:g,format:I,mime:$,pages:e,padding:w,quality:a,matte:l,density:i,outline:s,archive:p}}class pn{static for(t){return new pn().append(t).get()}constructor(){this.crc=-1}get(){return~this.crc}append(t){for(var n=this.crc|0,o=this.table,r=0,a=t.length|0;r<a;r++)n=n>>>8^o[(n^t[r])&255];return this.crc=n,this}}pn.prototype.table=(()=>{var e,t,n,o=[];for(e=0;e<256;e++){for(n=e,t=0;t<8;t++)n=n&1?n>>>1^3988292384:n>>>1;o[e]=n}return o})();function $n(e){let t=new Uint8Array(e),n=new DataView(t.buffer),o={array:t,view:n,size:e,set8(r,a){return n.setUint8(r,a),o},set16(r,a){return n.setUint16(r,a,!0),o},set32(r,a){return n.setUint32(r,a,!0),o},bytes(r,a){return t.set(a,r),o}};return o}class bn{constructor(t){let n=new Date;Object.assign(this,{directory:t,offset:0,files:[],time:(n.getHours()<<6|n.getMinutes())<<5|n.getSeconds()/2,date:(n.getFullYear()-1980<<4|n.getMonth()+1)<<5|n.getDate()}),this.add(t)}async add(t,n){let o=!n,r=bn.encoder.encode(`${this.directory}/${o?"":t}`),a=new Uint8Array(o?0:await n.arrayBuffer()),l=30+r.length,i=l+a.length,s=16,{offset:d}=this,c=$n(26).set32(0,134742036).set16(6,this.time).set16(8,this.date).set32(10,pn.for(a)).set32(14,a.length).set32(18,a.length).set16(22,r.length);d+=l;let f=$n(l+a.length+s).set32(0,67324752).bytes(4,c.array).bytes(30,r).bytes(l,a);d+=a.length,f.set32(i,134695760).bytes(i+4,c.array.slice(10,22)),d+=s,this.files.push({offset:d,folder:o,name:r,header:c,payload:f}),this.offset=d}toBuffer(){let t=this.files.reduce((f,{name:M})=>46+M.length+f,0),n=$n(t+22),o=0;for(var{offset:r,name:a,header:l,folder:i}of this.files)n.set32(o,33639248).set16(o+4,20).bytes(o+6,l.array).set8(o+38,i?16:0).set32(o+42,r).bytes(o+46,a),o+=46+a.length;n.set32(o,101010256).set16(o+8,this.files.length).set16(o+10,this.files.length).set32(o+12,t).set32(o+16,this.offset);let s=new Uint8Array(this.offset+n.size),d=0;for(var{payload:c}of this.files)s.set(c.array,d),d+=c.size;return s.set(n.array,d),s}get blob(){return new Blob([this.toBuffer()],{type:"application/zip"})}}bn.encoder=new TextEncoder;const nr=(e,t,n,o)=>{if(o){let{width:r,height:a}=e,l=Object.assign(document.createElement("canvas"),{width:r,height:a}),i=l.getContext("2d");i.fillStyle=o,i.fillRect(0,0,r,a),i.drawImage(e,0,0),e=l}return new Promise((r,a)=>e.toBlob(r,t,n))},Gl=(...e)=>nr(...e).then(t=>t.arrayBuffer()),Xl=async(e,t,n,o,r)=>{qo(r,await nr(e,t,n,o))},Ql=async(e,t,n,o,r,a,l)=>{let i=c=>a.replace("{}",String(c+1).padStart(l,"0")),s=Po(r,".zip")||"archive",d=new bn(s);await Promise.all(e.map(async(c,f)=>{let M=i(f);await d.add(M,await nr(c,t,n,o))})),qo(`${s}.zip`,d.blob)},qo=(e,t)=>{const n=window.URL.createObjectURL(t),o=document.createElement("a");o.style.display="none",o.href=n,o.setAttribute("download",e),typeof o.download=="undefined"&&o.setAttribute("target","_blank"),document.body.appendChild(o),o.click(),document.body.removeChild(o),setTimeout(()=>window.URL.revokeObjectURL(n),100)},Jl=(e,t,n)=>e.map(o=>{if(t==1&&!n)return o.canvas;let r=document.createElement("canvas"),a=r.getContext("2d"),l=o.canvas?o.canvas:o;return r.width=l.width*t,r.height=l.height*t,n&&(a.fillStyle=n,a.fillRect(0,0,r.width,r.height)),a.scale(t,t),a.drawImage(l,0,0),r}),ei={asBuffer:Gl,asDownload:Xl,asZipDownload:Ql,atScale:Jl,options:Wl},{asBuffer:Rn,asDownload:ti,asZipDownload:ni,atScale:Vn,options:On}=ei,zr=Symbol.for("toDataURL"),ri=e=>new Promise((t,n)=>Object.assign(new Fo,{crossOrigin:"Anonymous",onload:t,onerror:n,src:e}));class oi{constructor(t,n){let o=document.createElement("canvas"),r=[];Object.defineProperty(o,"async",{value:!0,writable:!1,enumerable:!0});for(var[a,l]of Object.entries({png:()=>Rn(o,"image/png"),jpg:()=>Rn(o,"image/jpeg"),pages:()=>r.concat(o).map(i=>i.getContext("2d"))}))Object.defineProperty(o,a,{get:l});return Object.assign(o,{width:t,height:n,newPage(...i){var{width:d,height:c}=o,s=Object.assign(document.createElement("canvas"),{width:d,height:c});s.getContext("2d").drawImage(o,0,0),r.push(s);var[d,c]=i.length?i:[d,c];return Object.assign(o,{width:d,height:c}).getContext("2d")},saveAs(i,s){s=typeof s=="number"?{quality:s}:s;let d=On(this.pages,{filename:i,...s}),{pattern:c,padding:f,mime:M,quality:p,matte:E,density:I,archive:$}=d,D=Vn(d.pages,I);return f==null?ti(D[0],M,p,E,i):ni(D,M,p,E,$,c,f)},toBuffer(i="png",s={}){s=typeof s=="number"?{quality:s}:s;let d=On(this.pages,{extension:i,...s}),{mime:c,quality:f,matte:M,pages:p,density:E}=d,I=Vn(p,E,M)[0];return Rn(I,c,f,M)},[zr]:o.toDataURL.bind(o),toDataURL(i="png",s={}){s=typeof s=="number"?{quality:s}:s;let d=On(this.pages,{extension:i,...s}),{mime:c,quality:f,matte:M,pages:p,density:E}=d,I=Vn(p,E,M)[0],$=I[I===o?zr:"toDataURL"](c,f);return Promise.resolve($)}})}}const{CanvasRenderingContext2D:ai,CanvasGradient:li,CanvasPattern:ii,Image:Fo,ImageData:si,Path2D:ui,DOMMatrix:ci,DOMRect:di,DOMPoint:fi}=window,hi={Canvas:oi,loadImage:ri,CanvasRenderingContext2D:ai,CanvasGradient:li,CanvasPattern:ii,Image:Fo,ImageData:si,Path2D:ui,DOMMatrix:ci,DOMRect:di,DOMPoint:fi},$t=(e,t,n={},o=n)=>{if(Array.isArray(t))t.forEach(r=>$t(e,r,n,o));else if(typeof t=="function")t(e,n,o,$t);else{const r=Object.keys(t)[0];Array.isArray(t[r])?(o[r]={},$t(e,t[r],n,o[r])):o[r]=t[r](e,n,o,$t)}return n},bt=(e,t)=>(n,o,r,a)=>{t(n,o,r)&&a(n,e,o,r)},vi=(e,t)=>(n,o,r,a)=>{const l=[];let i=n.pos;for(;t(n,o,r);){const s={};if(a(n,e,o,s),n.pos===i)break;i=n.pos,l.push(s)}return l},mi=e=>({data:e,pos:0}),$e=()=>e=>e.data[e.pos++],Lo=(e=0)=>t=>t.data[t.pos+e],Ue=e=>t=>t.data.subarray(t.pos,t.pos+=e),yn=e=>t=>t.data.subarray(t.pos,t.pos+e),Wn=e=>t=>Array.from(Ue(e)(t)).map(n=>String.fromCharCode(n)).join(""),ht=e=>t=>{const n=Ue(2)(t);return e?(n[1]<<8)+n[0]:(n[0]<<8)+n[1]},Io=(e,t)=>(n,o,r)=>{const a=typeof t=="function"?t(n,o,r):t,l=Ue(e),i=new Array(a);for(var s=0;s<a;s++)i[s]=l(n);return i},gi=(e,t,n)=>{for(var o=0,r=0;r<n;r++)o+=e[t+r]&&2**(n-r-1);return o},rr=e=>t=>{const n=$e()(t),o=new Array(8);for(var r=0;r<8;r++)o[7-r]=!!(n&1<<r);return Object.keys(e).reduce((a,l)=>{const i=e[l];return i.length?a[l]=gi(o,i.index,i.length):a[l]=o[i.index],a},{})};var wn={blocks:e=>{const n=[],o=e.data.length;for(var r=0,a=$e()(e);a!==0&&a;a=$e()(e)){if(e.pos+a>=o){const d=o-e.pos;n.push(Ue(d)(e)),r+=d;break}n.push(Ue(a)(e)),r+=a}const l=new Uint8Array(r);for(var i=0,s=0;s<n.length;s++)l.set(n[s],i),i+=n[s].length;return l}};const pi=bt({gce:[{codes:Ue(2)},{byteSize:$e()},{extras:rr({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:ht(!0)},{transparentColorIndex:$e()},{terminator:$e()}]},e=>{var t=yn(2)(e);return t[0]===33&&t[1]===249}),bi=bt({image:[{code:$e()},{descriptor:[{left:ht(!0)},{top:ht(!0)},{width:ht(!0)},{height:ht(!0)},{lct:rr({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},bt({lct:Io(3,(e,t,n)=>Math.pow(2,n.descriptor.lct.size+1))},(e,t,n)=>n.descriptor.lct.exists),{data:[{minCodeSize:$e()},wn]}]},e=>Lo()(e)===44),yi=bt({text:[{codes:Ue(2)},{blockSize:$e()},{preData:(e,t,n)=>Ue(n.text.blockSize)(e)},wn]},e=>{var t=yn(2)(e);return t[0]===33&&t[1]===1}),wi=bt({application:[{codes:Ue(2)},{blockSize:$e()},{id:(e,t,n)=>Wn(n.blockSize)(e)},wn]},e=>{var t=yn(2)(e);return t[0]===33&&t[1]===255}),Ci=bt({comment:[{codes:Ue(2)},wn]},e=>{var t=yn(2)(e);return t[0]===33&&t[1]===254}),xi=[{header:[{signature:Wn(3)},{version:Wn(3)}]},{lsd:[{width:ht(!0)},{height:ht(!0)},{gct:rr({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:$e()},{pixelAspectRatio:$e()}]},bt({gct:Io(3,(e,t)=>Math.pow(2,t.lsd.gct.size+1))},(e,t)=>t.lsd.gct.exists),{frames:vi([pi,wi,Ci,bi,yi],e=>{var t=Lo()(e);return t===33||t===44})}],ki=(e,t)=>{const n=new Array(e.length),o=e.length/t,r=function(c,f){const M=e.slice(f*t,(f+1)*t);n.splice.apply(n,[c*t,t].concat(M))},a=[0,4,2,1],l=[8,8,4,2];for(var i=0,s=0;s<4;s++)for(var d=a[s];d<o;d+=l[s])r(d,i),i++;return n},Mi=(e,t,n)=>{const a=n;var l,i,s,d,c,f,M,T,p,E,g,I,m,b,A,C;const $=new Array(n),D=new Array(4096),w=new Array(4096),_=new Array(4096+1);for(I=e,i=1<<I,c=i+1,l=i+2,M=-1,d=I+1,s=(1<<d)-1,p=0;p<i;p++)D[p]=0,w[p]=p;var g,T,m,b,C,A;for(g=T=m=b=C=A=0,E=0;E<a;){if(b===0){if(T<d){g+=t[A]<<T,T+=8,A++;continue}if(p=g&s,g>>=d,T-=d,p>l||p==c)break;if(p==i){d=I+1,s=(1<<d)-1,l=i+2,M=-1;continue}if(M==-1){_[b++]=w[p],M=p,m=p;continue}for(f=p,p==l&&(_[b++]=m,p=M);p>i;)_[b++]=w[p],p=D[p];m=w[p]&255,_[b++]=m,l<4096&&(D[l]=M,w[l]=m,l++,(l&s)===0&&l<4096&&(d++,s+=l)),M=f}b--,$[C++]=_[b],E++}for(E=C;E<a;E++)$[E]=0;return $},Si=e=>{const t=new Uint8Array(e);return $t(mi(t),xi)},Di=e=>{const t=e.pixels.length,n=new Uint8ClampedArray(t*4);for(var o=0;o<t;o++){const r=o*4,a=e.pixels[o],l=e.colorTable[a];n[r]=l[0],n[r+1]=l[1],n[r+2]=l[2],n[r+3]=a!==e.transparentIndex?255:0}return n},Ei=(e,t,n)=>{if(!e.image){console.warn("gif frame does not have associated image.");return}const{image:o}=e,r=o.descriptor.width*o.descriptor.height;var a=Mi(o.data.minCodeSize,o.data.blocks,r);o.descriptor.lct.interlaced&&(a=ki(a,o.descriptor.width));const l={pixels:a,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height}};return o.descriptor.lct&&o.descriptor.lct.exists?l.colorTable=o.lct:l.colorTable=t,e.gce&&(l.delay=(e.gce.delay||10)*10,l.disposalType=e.gce.extras.disposal,e.gce.extras.transparentColorGiven&&(l.transparentIndex=e.gce.transparentColorIndex)),n&&(l.patch=Di(l)),l},Ti=(e,t)=>e.frames.filter(n=>n.image).map(n=>Ei(n,e.gct,t));function Ai(e,t,n){const o=$o(t),r=e-1;let a=0;switch(n){case Be.L:a=Ye[r][0];break;case Be.M:a=Ye[r][1];break;case Be.Q:a=Ye[r][2];break;case Be.H:a=Ye[r][3];break}return o<=a}function _i(e,t){for(var n=1,o=$o(e),r=0,a=Ye.length;r<a;r++){var l=0;switch(t){case Be.L:l=Ye[r][0];break;case Be.M:l=Ye[r][1];break;case Be.Q:l=Ye[r][2];break;case Be.H:l=Ye[r][3];break}if(o<=l)break;n++}if(n>Ye.length)throw new Error("Too long data");return n}function $o(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=Number(e)?3:0)}class Bi{constructor(t){this.mode=qe.MODE_8BIT_BYTE,this.parsedData=[],this.data=t;const n=[];for(let o=0,r=this.data.length;o<r;o++){const a=[],l=this.data.charCodeAt(o);l>65536?(a[0]=240|(l&1835008)>>>18,a[1]=128|(l&258048)>>>12,a[2]=128|(l&4032)>>>6,a[3]=128|l&63):l>2048?(a[0]=224|(l&61440)>>>12,a[1]=128|(l&4032)>>>6,a[2]=128|l&63):l>128?(a[0]=192|(l&1984)>>>6,a[1]=128|l&63):a[0]=l,n.push(a)}this.parsedData=Array.prototype.concat.apply([],n),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}getLength(){return this.parsedData.length}write(t){for(let n=0,o=this.parsedData.length;n<o;n++)t.put(this.parsedData[n],8)}}class it{constructor(t=-1,n=Be.L){this.moduleCount=0,this.dataList=[],this.typeNumber=t,this.errorCorrectLevel=n,this.moduleCount=0,this.dataList=[]}addData(t){if(this.typeNumber<=0)this.typeNumber=_i(t,this.errorCorrectLevel);else{if(this.typeNumber>40)throw new Error(`Invalid QR version: ${this.typeNumber}`);if(!Ai(this.typeNumber,t,this.errorCorrectLevel))throw new Error(`Data is too long for QR version: ${this.typeNumber}`)}const n=new Bi(t);this.dataList.push(n),this.dataCache=void 0}isDark(t,n){if(t<0||this.moduleCount<=t||n<0||this.moduleCount<=n)throw new Error(`${t},${n}`);return this.modules[t][n]}getModuleCount(){return this.moduleCount}make(){this.makeImpl(!1,this.getBestMaskPattern())}makeImpl(t,n){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(let o=0;o<this.moduleCount;o++){this.modules[o]=new Array(this.moduleCount);for(let r=0;r<this.moduleCount;r++)this.modules[o][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,n),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=it.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)}setupPositionProbePattern(t,n){for(let o=-1;o<=7;o++)if(!(t+o<=-1||this.moduleCount<=t+o))for(let r=-1;r<=7;r++)n+r<=-1||this.moduleCount<=n+r||(0<=o&&o<=6&&(r==0||r==6)||0<=r&&r<=6&&(o==0||o==6)||2<=o&&o<=4&&2<=r&&r<=4?this.modules[t+o][n+r]=!0:this.modules[t+o][n+r]=!1)}getBestMaskPattern(){if(Number.isInteger(this.maskPattern)&&Object.values(Xe).includes(this.maskPattern))return this.maskPattern;let t=0,n=0;for(let o=0;o<8;o++){this.makeImpl(!0,o);const r=ce.getLostPoint(this);(o==0||t>r)&&(t=r,n=o)}return n}setupTimingPattern(){for(let t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(let t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)}setupPositionAdjustPattern(){const t=ce.getPatternPosition(this.typeNumber);for(let n=0;n<t.length;n++)for(let o=0;o<t.length;o++){const r=t[n],a=t[o];if(this.modules[r][a]==null)for(let l=-2;l<=2;l++)for(let i=-2;i<=2;i++)l==-2||l==2||i==-2||i==2||l==0&&i==0?this.modules[r+l][a+i]=!0:this.modules[r+l][a+i]=!1}}setupTypeNumber(t){const n=ce.getBCHTypeNumber(this.typeNumber);for(var o=0;o<18;o++){var r=!t&&(n>>o&1)==1;this.modules[Math.floor(o/3)][o%3+this.moduleCount-8-3]=r}for(var o=0;o<18;o++){var r=!t&&(n>>o&1)==1;this.modules[o%3+this.moduleCount-8-3][Math.floor(o/3)]=r}}setupTypeInfo(t,n){const o=this.errorCorrectLevel<<3|n,r=ce.getBCHTypeInfo(o);for(var a=0;a<15;a++){var l=!t&&(r>>a&1)==1;a<6?this.modules[a][8]=l:a<8?this.modules[a+1][8]=l:this.modules[this.moduleCount-15+a][8]=l}for(var a=0;a<15;a++){var l=!t&&(r>>a&1)==1;a<8?this.modules[8][this.moduleCount-a-1]=l:a<9?this.modules[8][15-a-1+1]=l:this.modules[8][15-a-1]=l}this.modules[this.moduleCount-8][8]=!t}mapData(t,n){let o=-1,r=this.moduleCount-1,a=7,l=0;for(let i=this.moduleCount-1;i>0;i-=2)for(i==6&&i--;;){for(let s=0;s<2;s++)if(this.modules[r][i-s]==null){let d=!1;l<t.length&&(d=(t[l]>>>a&1)==1),ce.getMask(n,r,i-s)&&(d=!d),this.modules[r][i-s]=d,a--,a==-1&&(l++,a=7)}if(r+=o,r<0||this.moduleCount<=r){r-=o,o=-o;break}}}static createData(t,n,o){const r=Qe.getRSBlocks(t,n),a=new Pi;for(var l=0;l<o.length;l++){const s=o[l];a.put(s.mode,4),a.put(s.getLength(),ce.getLengthInBits(s.mode,t)),s.write(a)}let i=0;for(var l=0;l<r.length;l++)i+=r[l].dataCount;if(a.getLengthInBits()>i*8)throw new Error(`code length overflow. (${a.getLengthInBits()}>${i*8})`);for(a.getLengthInBits()+4<=i*8&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=i*8||(a.put(it.PAD0,8),a.getLengthInBits()>=i*8));)a.put(it.PAD1,8);return it.createBytes(a,r)}static createBytes(t,n){let o=0,r=0,a=0;const l=new Array(n.length),i=new Array(n.length);for(var s=0;s<n.length;s++){const p=n[s].dataCount,E=n[s].totalCount-p;r=Math.max(r,p),a=Math.max(a,E),l[s]=new Array(p);for(var d=0;d<l[s].length;d++)l[s][d]=255&t.buffer[d+o];o+=p;const I=ce.getErrorCorrectPolynomial(E),D=new At(l[s],I.getLength()-1).mod(I);i[s]=new Array(I.getLength()-1);for(var d=0;d<i[s].length;d++){const _=d+D.getLength()-i[s].length;i[s][d]=_>=0?D.get(_):0}}let c=0;for(var d=0;d<n.length;d++)c+=n[d].totalCount;const f=new Array(c);let M=0;for(var d=0;d<r;d++)for(var s=0;s<n.length;s++)d<l[s].length&&(f[M++]=l[s][d]);for(var d=0;d<a;d++)for(var s=0;s<n.length;s++)d<i[s].length&&(f[M++]=i[s][d]);return f}}it.PAD0=236;it.PAD1=17;const Be={L:1,M:0,Q:3,H:2},qe={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},Xe={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};class ce{static getBCHTypeInfo(t){let n=t<<10;for(;ce.getBCHDigit(n)-ce.getBCHDigit(ce.G15)>=0;)n^=ce.G15<<ce.getBCHDigit(n)-ce.getBCHDigit(ce.G15);return(t<<10|n)^ce.G15_MASK}static getBCHTypeNumber(t){let n=t<<12;for(;ce.getBCHDigit(n)-ce.getBCHDigit(ce.G18)>=0;)n^=ce.G18<<ce.getBCHDigit(n)-ce.getBCHDigit(ce.G18);return t<<12|n}static getBCHDigit(t){let n=0;for(;t!=0;)n++,t>>>=1;return n}static getPatternPosition(t){return ce.PATTERN_POSITION_TABLE[t-1]}static getMask(t,n,o){switch(t){case Xe.PATTERN000:return(n+o)%2==0;case Xe.PATTERN001:return n%2==0;case Xe.PATTERN010:return o%3==0;case Xe.PATTERN011:return(n+o)%3==0;case Xe.PATTERN100:return(Math.floor(n/2)+Math.floor(o/3))%2==0;case Xe.PATTERN101:return n*o%2+n*o%3==0;case Xe.PATTERN110:return(n*o%2+n*o%3)%2==0;case Xe.PATTERN111:return(n*o%3+(n+o)%2)%2==0;default:throw new Error(`bad maskPattern:${t}`)}}static getErrorCorrectPolynomial(t){let n=new At([1],0);for(let o=0;o<t;o++)n=n.multiply(new At([1,ye.gexp(o)],0));return n}static getLengthInBits(t,n){if(1<=n&&n<10)switch(t){case qe.MODE_NUMBER:return 10;case qe.MODE_ALPHA_NUM:return 9;case qe.MODE_8BIT_BYTE:return 8;case qe.MODE_KANJI:return 8;default:throw new Error(`mode:${t}`)}else if(n<27)switch(t){case qe.MODE_NUMBER:return 12;case qe.MODE_ALPHA_NUM:return 11;case qe.MODE_8BIT_BYTE:return 16;case qe.MODE_KANJI:return 10;default:throw new Error(`mode:${t}`)}else if(n<41)switch(t){case qe.MODE_NUMBER:return 14;case qe.MODE_ALPHA_NUM:return 13;case qe.MODE_8BIT_BYTE:return 16;case qe.MODE_KANJI:return 12;default:throw new Error(`mode:${t}`)}else throw new Error(`type:${n}`)}static getLostPoint(t){const n=t.getModuleCount();let o=0;for(var r=0;r<n;r++)for(var a=0;a<n;a++){let s=0;const d=t.isDark(r,a);for(let c=-1;c<=1;c++)if(!(r+c<0||n<=r+c))for(let f=-1;f<=1;f++)a+f<0||n<=a+f||c==0&&f==0||d==t.isDark(r+c,a+f)&&s++;s>5&&(o+=3+s-5)}for(var r=0;r<n-1;r++)for(var a=0;a<n-1;a++){let c=0;t.isDark(r,a)&&c++,t.isDark(r+1,a)&&c++,t.isDark(r,a+1)&&c++,t.isDark(r+1,a+1)&&c++,(c==0||c==4)&&(o+=3)}for(var r=0;r<n;r++)for(var a=0;a<n-6;a++)t.isDark(r,a)&&!t.isDark(r,a+1)&&t.isDark(r,a+2)&&t.isDark(r,a+3)&&t.isDark(r,a+4)&&!t.isDark(r,a+5)&&t.isDark(r,a+6)&&(o+=40);for(var a=0;a<n;a++)for(var r=0;r<n-6;r++)t.isDark(r,a)&&!t.isDark(r+1,a)&&t.isDark(r+2,a)&&t.isDark(r+3,a)&&t.isDark(r+4,a)&&!t.isDark(r+5,a)&&t.isDark(r+6,a)&&(o+=40);let l=0;for(var a=0;a<n;a++)for(var r=0;r<n;r++)t.isDark(r,a)&&l++;return o+=Math.abs(100*l/n/n-50)/5*10,o}}ce.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]];ce.G15=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0;ce.G18=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0;ce.G15_MASK=1<<14|1<<12|1<<10|1<<4|1<<1;class ye{static glog(t){if(t<1)throw new Error(`glog(${t})`);return ye.LOG_TABLE[t]}static gexp(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return ye.EXP_TABLE[t]}}ye.EXP_TABLE=new Array(256);ye.LOG_TABLE=new Array(256);ye._constructor=function(){for(var e=0;e<8;e++)ye.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)ye.EXP_TABLE[e]=ye.EXP_TABLE[e-4]^ye.EXP_TABLE[e-5]^ye.EXP_TABLE[e-6]^ye.EXP_TABLE[e-8];for(var e=0;e<255;e++)ye.LOG_TABLE[ye.EXP_TABLE[e]]=e}();class At{constructor(t,n){if(t.length==null)throw new Error(`${t.length}/${n}`);let o=0;for(;o<t.length&&t[o]==0;)o++;this.num=new Array(t.length-o+n);for(let r=0;r<t.length-o;r++)this.num[r]=t[r+o]}get(t){return this.num[t]}getLength(){return this.num.length}multiply(t){const n=new Array(this.getLength()+t.getLength()-1);for(let o=0;o<this.getLength();o++)for(let r=0;r<t.getLength();r++)n[o+r]^=ye.gexp(ye.glog(this.get(o))+ye.glog(t.get(r)));return new At(n,0)}mod(t){if(this.getLength()-t.getLength()<0)return this;const n=ye.glog(this.get(0))-ye.glog(t.get(0)),o=new Array(this.getLength());for(var r=0;r<this.getLength();r++)o[r]=this.get(r);for(var r=0;r<t.getLength();r++)o[r]^=ye.gexp(ye.glog(t.get(r))+n);return new At(o,0).mod(t)}}class Qe{constructor(t,n){this.totalCount=t,this.dataCount=n}static getRSBlocks(t,n){const o=Qe.getRsBlockTable(t,n);if(o==null)throw new Error(`bad rs block @ typeNumber:${t}/errorCorrectLevel:${n}`);const r=o.length/3,a=[];for(let l=0;l<r;l++){const i=o[l*3+0],s=o[l*3+1],d=o[l*3+2];for(let c=0;c<i;c++)a.push(new Qe(s,d))}return a}static getRsBlockTable(t,n){switch(n){case Be.L:return Qe.RS_BLOCK_TABLE[(t-1)*4+0];case Be.M:return Qe.RS_BLOCK_TABLE[(t-1)*4+1];case Be.Q:return Qe.RS_BLOCK_TABLE[(t-1)*4+2];case Be.H:return Qe.RS_BLOCK_TABLE[(t-1)*4+3];default:return}}}Qe.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];class Pi{constructor(){this.buffer=[],this.length=0}get(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)==1}put(t,n){for(let o=0;o<n;o++)this.putBit((t>>>n-o-1&1)==1)}getLengthInBits(){return this.length}putBit(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}}const Ye=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];var qi=100,ke=256,jr=ke-1,ot=4,Ro=16,or=1<<Ro,Vo=10,ar=10,Fi=or>>ar,Li=or<<Vo-ar,Ii=ke>>3,Gn=6,$i=1<<Gn,Ri=Ii*$i,Vi=30,Oo=10,en=1<<Oo,Ho=8,Yr=1<<Ho,Oi=Oo+Ho,Mt=1<<Oi,Ur=499,Kr=491,Zr=487,No=503,Hi=3*No;function Ni(e,t){var n,o,r,a,l;function i(){n=[],o=new Int32Array(256),r=new Int32Array(ke),a=new Int32Array(ke),l=new Int32Array(ke>>3);var D,w;for(D=0;D<ke;D++)w=(D<<ot+8)/ke,n[D]=new Float64Array([w,w,w,0]),a[D]=or/ke,r[D]=0}function s(){for(var D=0;D<ke;D++)n[D][0]>>=ot,n[D][1]>>=ot,n[D][2]>>=ot,n[D][3]=D}function d(D,w,_,g,T){n[w][0]-=D*(n[w][0]-_)/en,n[w][1]-=D*(n[w][1]-g)/en,n[w][2]-=D*(n[w][2]-T)/en}function c(D,w,_,g,T){for(var m=Math.abs(w-D),b=Math.min(w+D,ke),C=w+1,A=w-1,P=1,h,z;C<b||A>m;)z=l[P++],C<b&&(h=n[C++],h[0]-=z*(h[0]-_)/Mt,h[1]-=z*(h[1]-g)/Mt,h[2]-=z*(h[2]-T)/Mt),A>m&&(h=n[A--],h[0]-=z*(h[0]-_)/Mt,h[1]-=z*(h[1]-g)/Mt,h[2]-=z*(h[2]-T)/Mt)}function f(D,w,_){var g=2147483647,T=g,m=-1,b=m,C,A,P,h,z;for(C=0;C<ke;C++)A=n[C],P=Math.abs(A[0]-D)+Math.abs(A[1]-w)+Math.abs(A[2]-_),P<g&&(g=P,m=C),h=P-(r[C]>>Ro-ot),h<T&&(T=h,b=C),z=a[C]>>ar,a[C]-=z,r[C]+=z<<Vo;return a[m]+=Fi,r[m]-=Li,b}function M(){var D,w,_,g,T,m,b=0,C=0;for(D=0;D<ke;D++){for(_=n[D],T=D,m=_[1],w=D+1;w<ke;w++)g=n[w],g[1]<m&&(T=w,m=g[1]);if(g=n[T],D!=T&&(w=g[0],g[0]=_[0],_[0]=w,w=g[1],g[1]=_[1],_[1]=w,w=g[2],g[2]=_[2],_[2]=w,w=g[3],g[3]=_[3],_[3]=w),m!=b){for(o[b]=C+D>>1,w=b+1;w<m;w++)o[w]=D;b=m,C=D}}for(o[b]=C+jr>>1,w=b+1;w<256;w++)o[w]=jr}function p(D,w,_){for(var g,T,m,b=1e3,C=-1,A=o[w],P=A-1;A<ke||P>=0;)A<ke&&(T=n[A],m=T[1]-w,m>=b?A=ke:(A++,m<0&&(m=-m),g=T[0]-D,g<0&&(g=-g),m+=g,m<b&&(g=T[2]-_,g<0&&(g=-g),m+=g,m<b&&(b=m,C=T[3])))),P>=0&&(T=n[P],m=w-T[1],m>=b?P=-1:(P--,m<0&&(m=-m),g=T[0]-D,g<0&&(g=-g),m+=g,m<b&&(g=T[2]-_,g<0&&(g=-g),m+=g,m<b&&(b=m,C=T[3]))));return C}function E(){var D,w=e.length,_=30+(t-1)/3,g=w/(3*t),T=~~(g/qi),m=en,b=Ri,C=b>>Gn;for(C<=1&&(C=0),D=0;D<C;D++)l[D]=m*((C*C-D*D)*Yr/(C*C));var A;w<Hi?(t=1,A=3):w%Ur!==0?A=3*Ur:w%Kr!==0?A=3*Kr:w%Zr!==0?A=3*Zr:A=3*No;var P,h,z,S,H=0;for(D=0;D<g;)if(P=(e[H]&255)<<ot,h=(e[H+1]&255)<<ot,z=(e[H+2]&255)<<ot,S=f(P,h,z),d(m,S,P,h,z),C!==0&&c(C,S,P,h,z),H+=A,H>=w&&(H-=w),D++,T===0&&(T=1),D%T===0)for(m-=m/_,b-=b/Vi,C=b>>Gn,C<=1&&(C=0),S=0;S<C;S++)l[S]=m*((C*C-S*S)*Yr/(C*C))}function I(){i(),E(),s(),M()}this.buildColormap=I;function $(){for(var D=[],w=[],_=0;_<ke;_++)w[n[_][3]]=_;for(var g=0,T=0;T<ke;T++){var m=w[T];D[g++]=n[m][0],D[g++]=n[m][1],D[g++]=n[m][2]}return D}this.getColormap=$,this.lookupRGB=p}var Wr=-1,tn=12,Lt=5003,zi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function ji(e,t,n,o){var r=Math.max(2,o),a=new Uint8Array(256),l=new Int32Array(Lt),i=new Int32Array(Lt),s,d=0,c,f=0,M,p=!1,E,I,$,D,w,_;function g(S,H){a[c++]=S,c>=254&&A(H)}function T(S){m(Lt),f=I+2,p=!0,z(I,S)}function m(S){for(var H=0;H<S;++H)l[H]=-1}function b(S,H){var F,ne,x,R,te,K,L;for(E=S,p=!1,_=E,M=P(_),I=1<<S-1,$=I+1,f=I+2,c=0,R=h(),L=0,F=Lt;F<65536;F*=2)++L;L=8-L,K=Lt,m(K),z(I,H);e:for(;(ne=h())!=Wr;){if(F=(ne<<tn)+R,x=ne<<L^R,l[x]===F){R=i[x];continue}else if(l[x]>=0){te=K-x,x===0&&(te=1);do if((x-=te)<0&&(x+=K),l[x]===F){R=i[x];continue e}while(l[x]>=0)}z(R,H),R=ne,f<1<<tn?(i[x]=f++,l[x]=F):T(H)}z(R,H),z($,H)}function C(S){S.writeByte(r),D=e*t,w=0,b(r+1,S),S.writeByte(0)}function A(S){c>0&&(S.writeByte(c),S.writeBytes(a,0,c),c=0)}function P(S){return(1<<S)-1}function h(){if(D===0)return Wr;--D;var S=n[w++];return S&255}function z(S,H){for(s&=zi[d],d>0?s|=S<<d:s=S,d+=_;d>=8;)g(s&255,H),s>>=8,d-=8;if((f>M||p)&&(p?(M=P(_=E),p=!1):(++_,_==tn?M=1<<tn:M=P(_))),S==$){for(;d>0;)g(s&255,H),s>>=8,d-=8;A(H)}}this.encode=C}function Pe(){this.page=-1,this.pages=[],this.newPage()}Pe.pageSize=4096;Pe.charMap={};for(var nn=0;nn<256;nn++)Pe.charMap[nn]=String.fromCharCode(nn);Pe.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(Pe.pageSize),this.cursor=0};Pe.prototype.getData=function(){for(var e="",t=0;t<this.pages.length;t++)for(var n=0;n<Pe.pageSize;n++)e+=Pe.charMap[this.pages[t][n]];return e};Pe.prototype.toFlattenUint8Array=function(){const e=[];for(var t=0;t<this.pages.length;t++)if(t===this.pages.length-1){const o=Uint8Array.from(this.pages[t].slice(0,this.cursor));e.push(o)}else e.push(this.pages[t]);const n=new Uint8Array(e.reduce((o,r)=>o+r.length,0));return e.reduce((o,r)=>(n.set(r,o),o+r.length),0),n};Pe.prototype.writeByte=function(e){this.cursor>=Pe.pageSize&&this.newPage(),this.pages[this.page][this.cursor++]=e};Pe.prototype.writeUTFBytes=function(e){for(var t=e.length,n=0;n<t;n++)this.writeByte(e.charCodeAt(n))};Pe.prototype.writeBytes=function(e,t,n){for(var o=n||e.length,r=t||0;r<o;r++)this.writeByte(e[r])};function he(e,t){this.width=~~e,this.height=~~t,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.image=null,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.neuQuant=null,this.usedEntry=new Array,this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10,this.dither=!1,this.globalPalette=!1,this.out=new Pe}he.prototype.setDelay=function(e){this.delay=Math.round(e/10)};he.prototype.setFrameRate=function(e){this.delay=Math.round(100/e)};he.prototype.setDispose=function(e){e>=0&&(this.dispose=e)};he.prototype.setRepeat=function(e){this.repeat=e};he.prototype.setTransparent=function(e){this.transparent=e};he.prototype.addFrame=function(e){this.image=e,this.colorTab=this.globalPalette&&this.globalPalette.slice?this.globalPalette:null,this.getImagePixels(),this.analyzePixels(),this.globalPalette===!0&&(this.globalPalette=this.colorTab),this.firstFrame&&(this.writeHeader(),this.writeLSD(),this.writePalette(),this.repeat>=0&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),!this.firstFrame&&!this.globalPalette&&this.writePalette(),this.writePixels(),this.firstFrame=!1};he.prototype.finish=function(){this.out.writeByte(59)};he.prototype.setQuality=function(e){e<1&&(e=1),this.sample=e};he.prototype.setDither=function(e){e===!0&&(e="FloydSteinberg"),this.dither=e};he.prototype.setGlobalPalette=function(e){this.globalPalette=e};he.prototype.getGlobalPalette=function(){return this.globalPalette&&this.globalPalette.slice&&this.globalPalette.slice(0)||this.globalPalette};he.prototype.writeHeader=function(){this.out.writeUTFBytes("GIF89a")};he.prototype.analyzePixels=function(){this.colorTab||(this.neuQuant=new Ni(this.pixels,this.sample),this.neuQuant.buildColormap(),this.colorTab=this.neuQuant.getColormap()),this.dither?this.ditherPixels(this.dither.replace("-serpentine",""),this.dither.match(/-serpentine/)!==null):this.indexPixels(),this.pixels=null,this.colorDepth=8,this.palSize=7,this.transparent!==null&&(this.transIndex=this.findClosest(this.transparent,!0))};he.prototype.indexPixels=function(e){var t=this.pixels.length/3;this.indexedPixels=new Uint8Array(t);for(var n=0,o=0;o<t;o++){var r=this.findClosestRGB(this.pixels[n++]&255,this.pixels[n++]&255,this.pixels[n++]&255);this.usedEntry[r]=!0,this.indexedPixels[o]=r}};he.prototype.ditherPixels=function(e,t){var n={FalseFloydSteinberg:[[.375,1,0],[.375,0,1],[.25,1,1]],FloydSteinberg:[[.4375,1,0],[.1875,-1,1],[.3125,0,1],[.0625,1,1]],Stucki:[[.19047619047619047,1,0],[.09523809523809523,2,0],[.047619047619047616,-2,1],[.09523809523809523,-1,1],[.19047619047619047,0,1],[.09523809523809523,1,1],[.047619047619047616,2,1],[.023809523809523808,-2,2],[.047619047619047616,-1,2],[.09523809523809523,0,2],[.047619047619047616,1,2],[.023809523809523808,2,2]],Atkinson:[[.125,1,0],[.125,2,0],[.125,-1,1],[.125,0,1],[.125,1,1],[.125,0,2]]};if(!e||!n[e])throw"Unknown dithering kernel: "+e;var o=n[e],r=0,a=this.height,l=this.width,i=this.pixels,s=t?-1:1;this.indexedPixels=new Uint8Array(this.pixels.length/3);for(var d=0;d<a;d++){t&&(s=s*-1);for(var c=s==1?0:l-1,f=s==1?l:0;c!==f;c+=s){r=d*l+c;var M=r*3,p=i[M],E=i[M+1],I=i[M+2];M=this.findClosestRGB(p,E,I),this.usedEntry[M]=!0,this.indexedPixels[r]=M,M*=3;for(var $=this.colorTab[M],D=this.colorTab[M+1],w=this.colorTab[M+2],_=p-$,g=E-D,T=I-w,m=s==1?0:o.length-1,b=s==1?o.length:0;m!==b;m+=s){var C=o[m][1],A=o[m][2];if(C+c>=0&&C+c<l&&A+d>=0&&A+d<a){var P=o[m][0];M=r+C+A*l,M*=3,i[M]=Math.max(0,Math.min(255,i[M]+_*P)),i[M+1]=Math.max(0,Math.min(255,i[M+1]+g*P)),i[M+2]=Math.max(0,Math.min(255,i[M+2]+T*P))}}}}};he.prototype.findClosest=function(e,t){return this.findClosestRGB((e&16711680)>>16,(e&65280)>>8,e&255,t)};he.prototype.findClosestRGB=function(e,t,n,o){if(this.colorTab===null)return-1;if(this.neuQuant&&!o)return this.neuQuant.lookupRGB(e,t,n);for(var r=0,a=256*256*256,l=this.colorTab.length,i=0,s=0;i<l;s++){var d=e-(this.colorTab[i++]&255),c=t-(this.colorTab[i++]&255),f=n-(this.colorTab[i++]&255),M=d*d+c*c+f*f;(!o||this.usedEntry[s])&&M<a&&(a=M,r=s)}return r};he.prototype.getImagePixels=function(){var e=this.width,t=this.height;this.pixels=new Uint8Array(e*t*3);for(var n=this.image,o=0,r=0,a=0;a<t;a++)for(var l=0;l<e;l++)this.pixels[r++]=n[o++],this.pixels[r++]=n[o++],this.pixels[r++]=n[o++],o++};he.prototype.writeGraphicCtrlExt=function(){this.out.writeByte(33),this.out.writeByte(249),this.out.writeByte(4);var e,t;this.transparent===null?(e=0,t=0):(e=1,t=2),this.dispose>=0&&(t=this.dispose&7),t<<=2,this.out.writeByte(0|t|0|e),this.writeShort(this.delay),this.out.writeByte(this.transIndex),this.out.writeByte(0)};he.prototype.writeImageDesc=function(){this.out.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame||this.globalPalette?this.out.writeByte(0):this.out.writeByte(128|this.palSize)};he.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.out.writeByte(240|this.palSize),this.out.writeByte(0),this.out.writeByte(0)};he.prototype.writeNetscapeExt=function(){this.out.writeByte(33),this.out.writeByte(255),this.out.writeByte(11),this.out.writeUTFBytes("NETSCAPE2.0"),this.out.writeByte(3),this.out.writeByte(1),this.writeShort(this.repeat),this.out.writeByte(0)};he.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);for(var e=3*256-this.colorTab.length,t=0;t<e;t++)this.out.writeByte(0)};he.prototype.writeShort=function(e){this.out.writeByte(e&255),this.out.writeByte(e>>8&255)};he.prototype.writePixels=function(){var e=new ji(this.width,this.height,this.indexedPixels,this.colorDepth);e.encode(this.out)};he.prototype.stream=function(){return this.out};var Yi=globalThis&&globalThis.__awaiter||function(e,t,n,o){function r(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function i(c){try{d(o.next(c))}catch(f){l(f)}}function s(c){try{d(o.throw(c))}catch(f){l(f)}}function d(c){c.done?a(c.value):r(c.value).then(i,s)}d((o=o.apply(e,t||[])).next())})};const{Canvas:We}=hi,rn=.4;function Gr(e){if(!e)return;function t(n){n.onload=null,n.onerror=null}return new Promise(function(n,o){if(e.slice(0,4)=="data"){let a=new Image;a.onload=function(){n(a),t(a)},a.onerror=function(){o("Image load error"),t(a)},a.src=e;return}let r=new Image;r.setAttribute("crossOrigin","Anonymous"),r.onload=function(){n(r)},r.onerror=function(){o("Image load error")},r.src=e})}class se{constructor(t){const n=Object.assign({},t);if(Object.keys(se.defaultOptions).forEach(o=>{o in n||Object.defineProperty(n,o,{value:se.defaultOptions[o],enumerable:!0,writable:!0})}),n.components?typeof n.components=="object"&&Object.keys(se.defaultComponentOptions).forEach(o=>{o in n.components?Object.defineProperty(n.components,o,{value:Object.assign(Object.assign({},se.defaultComponentOptions[o]),n.components[o]),enumerable:!0,writable:!0}):Object.defineProperty(n.components,o,{value:se.defaultComponentOptions[o],enumerable:!0,writable:!0})}):n.components=se.defaultComponentOptions,n.dotScale!==null&&n.dotScale!==void 0){if(n.dotScale<=0||n.dotScale>1)throw new Error("dotScale should be in range (0, 1].");n.components.data.scale=n.dotScale,n.components.timing.scale=n.dotScale,n.components.alignment.scale=n.dotScale}this.options=n,this.canvas=new We(t.size,t.size),this.canvasContext=this.canvas.getContext("2d"),this.qrCode=new it(-1,this.options.correctLevel),Number.isInteger(this.options.maskPattern)&&(this.qrCode.maskPattern=this.options.maskPattern),Number.isInteger(this.options.version)&&(this.qrCode.typeNumber=this.options.version),this.qrCode.addData(this.options.text),this.qrCode.make()}draw(){return new Promise(t=>this._draw().then(t))}_clear(){this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)}static _prepareRoundedCornerClip(t,n,o,r,a,l){t.beginPath(),t.moveTo(n,o),t.arcTo(n+r,o,n+r,o+a,l),t.arcTo(n+r,o+a,n,o+a,l),t.arcTo(n,o+a,n,o,l),t.arcTo(n,o,n+r,o,l),t.closePath()}static _getAverageRGB(t){const o={r:0,g:0,b:0};let r,a,l=-4;const i={r:0,g:0,b:0};let s=0;a=t.naturalHeight||t.height,r=t.naturalWidth||t.width;const c=new We(r,a).getContext("2d");if(!c)return o;c.drawImage(t,0,0);let f;try{f=c.getImageData(0,0,r,a)}catch{return o}for(;(l+=5*4)<f.data.length;)f.data[l]>200||f.data[l+1]>200||f.data[l+2]>200||(++s,i.r+=f.data[l],i.g+=f.data[l+1],i.b+=f.data[l+2]);return i.r=~~(i.r/s),i.g=~~(i.g/s),i.b=~~(i.b/s),i}static _drawDot(t,n,o,r,a=0,l=1){t.fillRect((n+a)*r,(o+a)*r,l*r,l*r)}static _drawAlignProtector(t,n,o,r){t.clearRect((n-2)*r,(o-2)*r,5*r,5*r),t.fillRect((n-2)*r,(o-2)*r,5*r,5*r)}static _drawAlign(t,n,o,r,a=0,l=1,i,s){const d=t.fillStyle;t.fillStyle=i,new Array(4).fill(0).map((c,f)=>{se._drawDot(t,n-2+f,o-2,r,a,l),se._drawDot(t,n+2,o-2+f,r,a,l),se._drawDot(t,n+2-f,o+2,r,a,l),se._drawDot(t,n-2,o+2-f,r,a,l)}),se._drawDot(t,n,o,r,a,l),s||(t.fillStyle="rgba(255, 255, 255, 0.6)",new Array(2).fill(0).map((c,f)=>{se._drawDot(t,n-1+f,o-1,r,a,l),se._drawDot(t,n+1,o-1+f,r,a,l),se._drawDot(t,n+1-f,o+1,r,a,l),se._drawDot(t,n-1,o+1-f,r,a,l)})),t.fillStyle=d}_draw(){var t,n,o,r,a,l,i,s,d,c,f,M,p,E,I,$,D,w,_;return Yi(this,void 0,void 0,function*(){const g=(t=this.qrCode)===null||t===void 0?void 0:t.moduleCount,T=this.options.size;let m=this.options.margin;(m<0||m*2>=T)&&(m=0);const b=Math.ceil(m),C=T-2*m,A=this.options.whiteMargin,P=this.options.backgroundDimming,h=Math.ceil(C/g),z=h*g,S=z+2*b,H=new We(S,S),F=H.getContext("2d");this._clear(),F.save(),F.translate(b,b);const ne=new We(S,S),x=ne.getContext("2d");let R=null,te=[];if(this.options.gifBackground){const V=Si(this.options.gifBackground);if(R=V,te=Ti(V,!0),this.options.autoColor){let j=0,W=0,X=0,ge=0;for(let oe=0;oe<te[0].colorTable.length;oe++){const J=te[0].colorTable[oe];J[0]>200||J[1]>200||J[2]>200||J[0]===0&&J[1]===0&&J[2]===0||(ge++,j+=J[0],W+=J[1],X+=J[2])}j=~~(j/ge),W=~~(W/ge),X=~~(X/ge),this.options.colorDark=`rgb(${j},${W},${X})`}}else if(this.options.backgroundImage){const V=yield Gr(this.options.backgroundImage);if(this.options.autoColor){const j=se._getAverageRGB(V);this.options.colorDark=`rgb(${j.r},${j.g},${j.b})`}x.drawImage(V,0,0,V.width,V.height,0,0,S,S),x.rect(0,0,S,S),x.fillStyle=P,x.fill()}else x.rect(0,0,S,S),x.fillStyle=this.options.colorLight,x.fill();const K=ce.getPatternPosition(this.qrCode.typeNumber),L=((o=(n=this.options.components)===null||n===void 0?void 0:n.data)===null||o===void 0?void 0:o.scale)||rn,ae=(1-L)*.5;for(let V=0;V<g;V++)for(let j=0;j<g;j++){const W=this.qrCode.isDark(V,j),X=j<8&&(V<8||V>=g-8)||j>=g-8&&V<8,ge=V==6&&j>=8&&j<=g-8||j==6&&V>=8&&V<=g-8;let oe=X||ge;for(let we=1;we<K.length-1;we++)oe=oe||V>=K[we]-2&&V<=K[we]+2&&j>=K[we]-2&&j<=K[we]+2;const J=j*h+(oe?0:ae*h),Te=V*h+(oe?0:ae*h);if(F.strokeStyle=W?this.options.colorDark:this.options.colorLight,F.lineWidth=.5,F.fillStyle=W?this.options.colorDark:this.options.colorLight,K.length===0)oe||F.fillRect(J,Te,(oe?1:L)*h,(oe?1:L)*h);else{const we=j<g-4&&j>=g-4-5&&V<g-4&&V>=g-4-5;!oe&&!we&&F.fillRect(J,Te,(oe?1:L)*h,(oe?1:L)*h)}}const G=K[K.length-1],De=this.options.colorLight;if(F.fillStyle=De,F.fillRect(0,0,8*h,8*h),F.fillRect(0,(g-8)*h,8*h,8*h),F.fillRect((g-8)*h,0,8*h,8*h),!((a=(r=this.options.components)===null||r===void 0?void 0:r.timing)===null||a===void 0)&&a.protectors&&(F.fillRect(8*h,6*h,(g-8-8)*h,h),F.fillRect(6*h,8*h,h,(g-8-8)*h)),!((i=(l=this.options.components)===null||l===void 0?void 0:l.cornerAlignment)===null||i===void 0)&&i.protectors&&se._drawAlignProtector(F,G,G,h),!((d=(s=this.options.components)===null||s===void 0?void 0:s.alignment)===null||d===void 0)&&d.protectors)for(let V=0;V<K.length;V++)for(let j=0;j<K.length;j++){const W=K[j],X=K[V];if(!(W===6&&(X===6||X===G))){if(X===6&&(W===6||W===G))continue;if(W===G&&X===G)continue;se._drawAlignProtector(F,W,X,h)}}F.fillStyle=this.options.colorDark,F.fillRect(0,0,7*h,h),F.fillRect((g-7)*h,0,7*h,h),F.fillRect(0,6*h,7*h,h),F.fillRect((g-7)*h,6*h,7*h,h),F.fillRect(0,(g-7)*h,7*h,h),F.fillRect(0,(g-7+6)*h,7*h,h),F.fillRect(0,0,h,7*h),F.fillRect(6*h,0,h,7*h),F.fillRect((g-7)*h,0,h,7*h),F.fillRect((g-7+6)*h,0,h,7*h),F.fillRect(0,(g-7)*h,h,7*h),F.fillRect(6*h,(g-7)*h,h,7*h),F.fillRect(2*h,2*h,3*h,3*h),F.fillRect((g-7+2)*h,2*h,3*h,3*h),F.fillRect(2*h,(g-7+2)*h,3*h,3*h);const Z=((f=(c=this.options.components)===null||c===void 0?void 0:c.timing)===null||f===void 0?void 0:f.scale)||rn,ie=(1-Z)*.5;for(let V=0;V<g-8;V+=2)se._drawDot(F,8+V,6,h,ie,Z),se._drawDot(F,6,8+V,h,ie,Z);const Me=((p=(M=this.options.components)===null||M===void 0?void 0:M.cornerAlignment)===null||p===void 0?void 0:p.scale)||rn,Oe=(1-Me)*.5;se._drawAlign(F,G,G,h,Oe,Me,this.options.colorDark,((I=(E=this.options.components)===null||E===void 0?void 0:E.cornerAlignment)===null||I===void 0?void 0:I.protectors)||!1);const Y=((D=($=this.options.components)===null||$===void 0?void 0:$.alignment)===null||D===void 0?void 0:D.scale)||rn,Ke=(1-Y)*.5;for(let V=0;V<K.length;V++)for(let j=0;j<K.length;j++){const W=K[j],X=K[V];if(!(W===6&&(X===6||X===G))){if(X===6&&(W===6||W===G))continue;if(W===G&&X===G)continue;se._drawAlign(F,W,X,h,Ke,Y,this.options.colorDark,((_=(w=this.options.components)===null||w===void 0?void 0:w.alignment)===null||_===void 0?void 0:_.protectors)||!1)}}if(A&&(F.fillStyle=this.options.backgroundColor,F.fillRect(-b,-b,S,b),F.fillRect(-b,z,S,b),F.fillRect(z,-b,b,S),F.fillRect(-b,-b,b,S)),this.options.logoImage){const V=yield Gr(this.options.logoImage);let j=this.options.logoScale,W=this.options.logoMargin,X=this.options.logoCornerRadius;(j<=0||j>=1)&&(j=.2),W<0&&(W=0),X<0&&(X=0);const ge=z*j,oe=.5*(S-ge),J=oe;F.restore(),F.fillStyle=this.options.logoBackgroundColor,F.save(),se._prepareRoundedCornerClip(F,oe-W,J-W,ge+2*W,ge+2*W,X+W),F.clip();const Te=F.globalCompositeOperation;F.globalCompositeOperation="destination-out",F.fill(),F.globalCompositeOperation=Te,F.restore(),F.save(),se._prepareRoundedCornerClip(F,oe,J,ge,ge,X),F.clip(),F.drawImage(V,oe,J,ge,ge),F.restore(),F.save(),F.translate(b,b)}if(R){let V,j,W,X,ge,oe;if(te.forEach(function(J){V||(V=new he(T,T),V.setDelay(J.delay),V.setRepeat(0));const{width:Te,height:we}=J.dims;j||(j=new We(Te,we),W=j.getContext("2d"),W.rect(0,0,j.width,j.height),W.fillStyle="#ffffff",W.fill()),(!X||!oe||Te!==X.width||we!==X.height)&&(X=new We(Te,we),ge=X.getContext("2d"),oe=ge.createImageData(Te,we)),oe.data.set(J.patch),ge.putImageData(oe,0,0),W.drawImage(X.getContext("2d").canvas,J.dims.left,J.dims.top);const Ze=new We(S,S),He=Ze.getContext("2d");He.drawImage(j.getContext("2d").canvas,0,0,S,S),He.rect(0,0,S,S),He.fillStyle=P,He.fill(),He.drawImage(H.getContext("2d").canvas,0,0,S,S);const st=new We(T,T),ut=st.getContext("2d");ut.drawImage(Ze.getContext("2d").canvas,0,0,T,T),V.addFrame(ut.getImageData(0,0,st.width,st.height).data)}),!V)throw new Error("No frames.");if(V.finish(),Xr(this.canvas)){const Te=V.stream().toFlattenUint8Array().reduce((we,Ze)=>we+String.fromCharCode(Ze),"");return Promise.resolve(`data:image/gif;base64,${window.btoa(Te)}`)}return Promise.resolve(Buffer.from(V.stream().toFlattenUint8Array()))}else{x.drawImage(H.getContext("2d").canvas,0,0,S,S),F.drawImage(ne.getContext("2d").canvas,-b,-b,S,S);const V=new We(T,T);V.getContext("2d").drawImage(H.getContext("2d").canvas,0,0,T,T),this.canvas=V;const W=this.options.gifBackground?"gif":"png";return Xr(this.canvas)?Promise.resolve(this.canvas.toDataURL(W)):Promise.resolve(this.canvas.toBuffer(W))}})}}se.CorrectLevel=Be;se.defaultComponentOptions={data:{scale:.4},timing:{scale:.5,protectors:!1},alignment:{scale:.5,protectors:!1},cornerAlignment:{scale:.5,protectors:!0}};se.defaultOptions={text:"",size:400,margin:20,colorDark:"#000000",colorLight:"rgba(255, 255, 255, 0.6)",correctLevel:Be.M,backgroundImage:void 0,backgroundDimming:"rgba(0,0,0,0)",logoImage:void 0,logoScale:.2,logoMargin:4,logoCornerRadius:8,whiteMargin:!0,components:se.defaultComponentOptions,autoColor:!0,logoBackgroundColor:"#ffffff",backgroundColor:"#ffffff"};function Xr(e){try{return e instanceof HTMLElement}catch{return typeof e=="object"&&e.nodeType===1&&typeof e.style=="object"&&typeof e.ownerDocument=="object"}}const Ui={props:{text:{type:String,required:!0},qid:{type:String},correctLevel:{type:Number,default:1},size:{type:Number,default:200},margin:{type:Number,default:20},colorDark:{type:String,default:"#000000"},colorLight:{type:String,default:"#FFFFFF"},bgSrc:{type:String,default:void 0},background:{type:String,default:"rgba(0,0,0,0)"},backgroundDimming:{type:String,default:"rgba(0,0,0,0)"},logoSrc:{type:String,default:void 0},logoBackgroundColor:{type:String,default:"rgba(255,255,255,1)"},gifBgSrc:{type:String,default:void 0},logoScale:{type:Number,default:.2},logoMargin:{type:Number,default:0},logoCornerRadius:{type:Number,default:8},whiteMargin:{type:[Boolean,String],default:!0},dotScale:{type:Number,default:1},autoColor:{type:[Boolean,String],default:!0},binarize:{type:[Boolean,String],default:!1},binarizeThreshold:{type:Number,default:128},callback:{type:Function,default:function(){}},bindElement:{type:Boolean,default:!0},backgroundColor:{type:String,default:"#FFFFFF"},components:{default:function(){return{data:{scale:1},timing:{scale:1,protectors:!1},alignment:{scale:1,protectors:!1},cornerAlignment:{scale:1,protectors:!0}}}}},name:"vue-qr",data(){return{imgUrl:""}},watch:{$props:{deep:!0,handler(){this.main()}}},mounted(){this.main()},methods:{async main(){if(this.gifBgSrc){const n=await Yl(this.gifBgSrc),o=this.logoSrc;this.render(void 0,o,n);return}const e=this.bgSrc,t=this.logoSrc;this.render(e,t)},async render(e,t,n){const o=this;new se({gifBackground:n,text:o.text,size:o.size,margin:o.margin,colorDark:o.colorDark,colorLight:o.colorLight,backgroundColor:o.backgroundColor,backgroundImage:e,backgroundDimming:o.backgroundDimming,logoImage:t,logoScale:o.logoScale,logoBackgroundColor:o.logoBackgroundColor,correctLevel:o.correctLevel,logoMargin:o.logoMargin,logoCornerRadius:o.logoCornerRadius,whiteMargin:In(o.whiteMargin),dotScale:o.dotScale,autoColor:In(o.autoColor),binarize:In(o.binarize),binarizeThreshold:o.binarizeThreshold,components:o.components}).draw().then(r=>{this.imgUrl=r,o.callback&&o.callback(r,o.qid)})}}},Ki=["src"];function Zi(e,t,n,o,r,a){return n.bindElement?(Nn(),ua("img",{key:0,style:{display:"inline-block"},src:r.imgUrl},null,8,Ki)):eo("",!0)}var Wi=Jr(Ui,[["render",Zi]]);const Gi={components:{vueQr:Wi},data:()=>({upn:{prejemnik:null,name:null,naslov:null,prnaslov:null,posta:null,prposta:null,date:null,trr:null,ref:null,znesek:0,koda:"GDSV",namen:null},img:null,size:250}),created(){try{const e=JSON.parse(localStorage.getItem("upn"));e&&(this.upn={...this.upn,...e})}catch(e){console.warn(e)}},computed:{qr(){const e=["UPNQR","","","","",(this.upn.name||"").trim(),(this.upn.naslov||"").trim(),(this.upn.posta||"").trim(),String(Math.floor(Number(`${this.upn.znesek}`.replace(",","."))*100)).padStart(11,"0"),"","",(this.upn.koda||"").trim(),(this.upn.namen||"").trim(),(this.upn.date||"").trim(),(this.upn.trr||"").trim(),(this.upn.ref||"").trim(),(this.upn.prejemnik||"").trim(),(this.upn.prnaslov||"").trim(),(this.upn.prposta||"").trim()];return e.push(String(19+e.reduce((t,n)=>t+n.length,0)).padStart(3,"0"),""),e.join(`
`)}},methods:{dataURI(e){this.img=e},save(){const e=document.createElement("a");e.download="qr.png",e.href=this.img,document.body.appendChild(e),e.click(),document.body.removeChild(e)}},watch:{upn:{deep:!0,handler(e){const t=JSON.stringify(e);localStorage.setItem("upn",t),this.$router.replace({})}}}},Xi={class:"q-pa-sm"},Qi={class:"q-pa-sm"},Ji=ze("div",{class:"text-h6"},"UPN QR Generator",-1),es=ze("a",{href:"https://github.com/jeancaffou/upn-qr"},"https://github.com/jeancaffou/upn-qr",-1),ts={class:"row q-col-gutter-sm full-width"},ns={class:"col-lg-4 col-xs-12"},rs={class:"col-lg-4 col-xs-12"},os={class:"row items-center justify-end"},as={class:"col-lg-4 col-xs-12"},ls={class:"column"};function is(e,t,n,o,r,a){const l=da("vue-qr");return Nn(),cr(zl,{class:"flex flex-center"},{default:qt(()=>[ze("div",Xi,[ze("div",Qi,[Ji,es,xe(_a,{modelValue:e.size,"onUpdate:modelValue":t[0]||(t[0]=i=>e.size=i),min:150,max:800,color:"secondary"},null,8,["modelValue"])]),ze("div",ts,[ze("div",ns,[xe(Ie,{modelValue:e.upn.name,"onUpdate:modelValue":t[1]||(t[1]=i=>e.upn.name=i),label:"Ime pla\u010Dnika",filled:"",clearable:""},null,8,["modelValue"]),xe(Ie,{modelValue:e.upn.naslov,"onUpdate:modelValue":t[2]||(t[2]=i=>e.upn.naslov=i),label:"Naslov pla\u010Dnika",filled:"",clearable:""},null,8,["modelValue"]),xe(Ie,{modelValue:e.upn.posta,"onUpdate:modelValue":t[3]||(t[3]=i=>e.upn.posta=i),label:"Po\u0161ta in kraj pla\u010Dnika",filled:"",clearable:""},null,8,["modelValue"])]),ze("div",rs,[xe(Ie,{modelValue:e.upn.prejemnik,"onUpdate:modelValue":t[4]||(t[4]=i=>e.upn.prejemnik=i),label:"Ime prejemnika",filled:"",clearable:""},null,8,["modelValue"]),xe(Ie,{modelValue:e.upn.prnaslov,"onUpdate:modelValue":t[5]||(t[5]=i=>e.upn.prnaslov=i),label:"Naslov prejemnika",filled:"",clearable:""},null,8,["modelValue"]),xe(Ie,{modelValue:e.upn.prposta,"onUpdate:modelValue":t[6]||(t[6]=i=>e.upn.prposta=i),label:"Po\u0161ta in kraj prejemnika",filled:"",clearable:""},null,8,["modelValue"]),xe(Ie,{modelValue:e.upn.date,"onUpdate:modelValue":t[8]||(t[8]=i=>e.upn.date=i),label:"Rok pla\u010Dila",filled:"",clearable:""},{append:qt(()=>[xe(zn,{name:"event",class:"cursor-pointer"},{default:qt(()=>[xe(Nl,{"transition-show":"scale","transition-hide":"scale"},{default:qt(()=>[xe(gl,{modelValue:e.upn.date,"onUpdate:modelValue":t[7]||(t[7]=i=>e.upn.date=i),mask:"DD.MM.YYYY"},{default:qt(()=>[ze("div",os,[ca(xe(Ve,{label:"Zapri",color:"primary",flat:""},null,512),[[jl]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),ze("div",as,[xe(Ie,{modelValue:e.upn.koda,"onUpdate:modelValue":t[9]||(t[9]=i=>e.upn.koda=i),label:"Koda",filled:"",clearable:""},null,8,["modelValue"]),xe(Ie,{modelValue:e.upn.namen,"onUpdate:modelValue":t[10]||(t[10]=i=>e.upn.namen=i),label:"Namen",filled:"",clearable:""},null,8,["modelValue"]),xe(Ie,{modelValue:e.upn.znesek,"onUpdate:modelValue":t[11]||(t[11]=i=>e.upn.znesek=i),label:"Znesek",filled:"",clearable:""},null,8,["modelValue"]),xe(Ie,{modelValue:e.upn.trr,"onUpdate:modelValue":t[12]||(t[12]=i=>e.upn.trr=i),label:"TRR",filled:"",clearable:""},null,8,["modelValue"]),xe(Ie,{modelValue:e.upn.ref,"onUpdate:modelValue":t[13]||(t[13]=i=>e.upn.ref=i),label:"Referenca",filled:"",clearable:""},null,8,["modelValue"])])])]),ze("div",ls,[xe(l,{callback:a.dataURI,text:a.qr,size:e.size},null,8,["callback","text","size"]),e.img?(Nn(),cr(Ve,{key:0,icon:"save",label:"Shrani",onClick:a.save,color:"secondary"},null,8,["onClick"])):eo("",!0)])]),_:1})}var fs=Jr(Gi,[["render",is]]);export{fs as default};
